[2016-08-31 09:35:31,171][DEBUG][action.search            ] [Lorelei II] [index][3], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=59pU4eC8RIKcRzyoi-ePQw]: Failed to execute [org.elasticsearch.action.search.SearchRequest@24beec84] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
},

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    }
}]]; nested: SearchParseException[failed to parse search source. unknown search element [script_score]];
Caused by: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
},

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    }
}]]; nested: SearchParseException[failed to parse search source. unknown search element [script_score]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: SearchParseException[failed to parse search source. unknown search element [script_score]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:836)
	... 12 more
[2016-08-31 09:35:31,171][DEBUG][action.search            ] [Lorelei II] [index][2], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=gc5k4maqTjGrMm5qKCHTLQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@24beec84] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
},

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    }
}]]; nested: SearchParseException[failed to parse search source. unknown search element [script_score]];
Caused by: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
},

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    }
}]]; nested: SearchParseException[failed to parse search source. unknown search element [script_score]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: SearchParseException[failed to parse search source. unknown search element [script_score]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:836)
	... 12 more
[2016-08-31 09:35:31,171][DEBUG][action.search            ] [Lorelei II] [index][0], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=uwxC4DPdSUuX8x-O2viY7A]: Failed to execute [org.elasticsearch.action.search.SearchRequest@24beec84] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
},

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    }
}]]; nested: SearchParseException[failed to parse search source. unknown search element [script_score]];
Caused by: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
},

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    }
}]]; nested: SearchParseException[failed to parse search source. unknown search element [script_score]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: SearchParseException[failed to parse search source. unknown search element [script_score]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:836)
	... 12 more
[2016-08-31 09:35:31,171][DEBUG][action.search            ] [Lorelei II] [index][4], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=OXB415qkQFuEZWynSBYjAQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@24beec84] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
},

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    }
}]]; nested: SearchParseException[failed to parse search source. unknown search element [script_score]];
Caused by: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
},

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    }
}]]; nested: SearchParseException[failed to parse search source. unknown search element [script_score]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: SearchParseException[failed to parse search source. unknown search element [script_score]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:836)
	... 12 more
[2016-08-31 09:35:31,171][DEBUG][action.search            ] [Lorelei II] [index][1], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=yngR1dGzRq6m-UXRw05lBg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@24beec84]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
},

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    }
}]]; nested: SearchParseException[failed to parse search source. unknown search element [script_score]];
Caused by: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
},

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    }
}]]; nested: SearchParseException[failed to parse search source. unknown search element [script_score]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: SearchParseException[failed to parse search source. unknown search element [script_score]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:836)
	... 12 more
[2016-08-31 09:35:31,177][DEBUG][action.search            ] [Lorelei II] All shards failed for phase: [query]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
},

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    }
}]]; nested: SearchParseException[failed to parse search source. unknown search element [script_score]];
Caused by: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
},

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    }
}]]; nested: SearchParseException[failed to parse search source. unknown search element [script_score]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: SearchParseException[failed to parse search source. unknown search element [script_score]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:836)
	... 12 more
[2016-08-31 09:40:07,861][DEBUG][action.search            ] [Lorelei II] [index][2], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=gc5k4maqTjGrMm5qKCHTLQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@12fa0804] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },

"functions":[
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
}],

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    }
}]]; nested: SearchParseException[failed to parse search source. unknown search element [functions]];
Caused by: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },

"functions":[
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
}],

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    }
}]]; nested: SearchParseException[failed to parse search source. unknown search element [functions]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: SearchParseException[failed to parse search source. unknown search element [functions]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:836)
	... 12 more
[2016-08-31 09:40:07,862][DEBUG][action.search            ] [Lorelei II] [index][3], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=59pU4eC8RIKcRzyoi-ePQw]: Failed to execute [org.elasticsearch.action.search.SearchRequest@12fa0804]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },

"functions":[
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
}],

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    }
}]]; nested: SearchParseException[failed to parse search source. unknown search element [functions]];
Caused by: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },

"functions":[
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
}],

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    }
}]]; nested: SearchParseException[failed to parse search source. unknown search element [functions]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: SearchParseException[failed to parse search source. unknown search element [functions]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:836)
	... 12 more
[2016-08-31 09:40:07,862][DEBUG][action.search            ] [Lorelei II] [index][0], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=uwxC4DPdSUuX8x-O2viY7A]: Failed to execute [org.elasticsearch.action.search.SearchRequest@12fa0804] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },

"functions":[
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
}],

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    }
}]]; nested: SearchParseException[failed to parse search source. unknown search element [functions]];
Caused by: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },

"functions":[
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
}],

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    }
}]]; nested: SearchParseException[failed to parse search source. unknown search element [functions]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: SearchParseException[failed to parse search source. unknown search element [functions]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:836)
	... 12 more
[2016-08-31 09:40:07,862][DEBUG][action.search            ] [Lorelei II] [index][1], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=yngR1dGzRq6m-UXRw05lBg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@12fa0804] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },

"functions":[
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
}],

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    }
}]]; nested: SearchParseException[failed to parse search source. unknown search element [functions]];
Caused by: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },

"functions":[
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
}],

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    }
}]]; nested: SearchParseException[failed to parse search source. unknown search element [functions]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: SearchParseException[failed to parse search source. unknown search element [functions]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:836)
	... 12 more
[2016-08-31 09:40:07,861][DEBUG][action.search            ] [Lorelei II] [index][4], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=OXB415qkQFuEZWynSBYjAQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@12fa0804] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },

"functions":[
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
}],

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    }
}]]; nested: SearchParseException[failed to parse search source. unknown search element [functions]];
Caused by: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },

"functions":[
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
}],

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    }
}]]; nested: SearchParseException[failed to parse search source. unknown search element [functions]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: SearchParseException[failed to parse search source. unknown search element [functions]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:836)
	... 12 more
[2016-08-31 09:40:07,865][DEBUG][action.search            ] [Lorelei II] All shards failed for phase: [query]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },

"functions":[
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
}],

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    }
}]]; nested: SearchParseException[failed to parse search source. unknown search element [functions]];
Caused by: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },

"functions":[
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
}],

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    }
}]]; nested: SearchParseException[failed to parse search source. unknown search element [functions]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: SearchParseException[failed to parse search source. unknown search element [functions]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:836)
	... 12 more
[2016-08-31 09:40:49,452][DEBUG][action.search            ] [Lorelei II] [index][1], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=yngR1dGzRq6m-UXRw05lBg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@19d07e10] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },



    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
"functions":[
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
}],
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_ARRAY]];
Caused by: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },



    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
"functions":[
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
}],
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_ARRAY]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_ARRAY]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 09:40:49,452][DEBUG][action.search            ] [Lorelei II] [index][2], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=gc5k4maqTjGrMm5qKCHTLQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@19d07e10] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },



    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
"functions":[
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
}],
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_ARRAY]];
Caused by: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },



    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
"functions":[
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
}],
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_ARRAY]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_ARRAY]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 09:40:49,453][DEBUG][action.search            ] [Lorelei II] [index][4], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=OXB415qkQFuEZWynSBYjAQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@19d07e10]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },



    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
"functions":[
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
}],
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_ARRAY]];
Caused by: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },



    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
"functions":[
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
}],
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_ARRAY]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_ARRAY]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 09:40:49,456][DEBUG][action.search            ] [Lorelei II] All shards failed for phase: [query]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },



    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
"functions":[
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
}],
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_ARRAY]];
Caused by: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },



    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
"functions":[
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
}],
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_ARRAY]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_ARRAY]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 09:40:49,452][DEBUG][action.search            ] [Lorelei II] [index][3], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=59pU4eC8RIKcRzyoi-ePQw]: Failed to execute [org.elasticsearch.action.search.SearchRequest@19d07e10] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },



    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
"functions":[
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
}],
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_ARRAY]];
Caused by: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },



    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
"functions":[
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
}],
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_ARRAY]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_ARRAY]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 09:40:49,452][DEBUG][action.search            ] [Lorelei II] [index][0], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=uwxC4DPdSUuX8x-O2viY7A]: Failed to execute [org.elasticsearch.action.search.SearchRequest@19d07e10] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },



    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
"functions":[
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
}],
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_ARRAY]];
Caused by: SearchParseException[failed to parse search source [
{

"sort": {
        "_score": { "order": "desc" },
        "rank": {
            "unmapped_type": "float",
            "order": "desc"
        }
    },



    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
"functions":[
"script_score" : {
    "script" : "_score * (1+doc[rank].value/10)"
}],
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_ARRAY]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_ARRAY]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 09:50:28,499][DEBUG][action.search            ] [Lorelei II] [index][1], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=yngR1dGzRq6m-UXRw05lBg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@277d39c0] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{

"function_score": {

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    },
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}

]
}

}]]; nested: SearchParseException[failed to parse search source. unknown search element [function_score]];
Caused by: SearchParseException[failed to parse search source [
{

"function_score": {

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    },
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}

]
}

}]]; nested: SearchParseException[failed to parse search source. unknown search element [function_score]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: SearchParseException[failed to parse search source. unknown search element [function_score]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:836)
	... 12 more
[2016-08-31 09:50:28,500][DEBUG][action.search            ] [Lorelei II] [index][4], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=OXB415qkQFuEZWynSBYjAQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@277d39c0]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{

"function_score": {

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    },
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}

]
}

}]]; nested: SearchParseException[failed to parse search source. unknown search element [function_score]];
Caused by: SearchParseException[failed to parse search source [
{

"function_score": {

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    },
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}

]
}

}]]; nested: SearchParseException[failed to parse search source. unknown search element [function_score]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: SearchParseException[failed to parse search source. unknown search element [function_score]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:836)
	... 12 more
[2016-08-31 09:50:28,499][DEBUG][action.search            ] [Lorelei II] [index][3], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=59pU4eC8RIKcRzyoi-ePQw]: Failed to execute [org.elasticsearch.action.search.SearchRequest@277d39c0] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{

"function_score": {

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    },
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}

]
}

}]]; nested: SearchParseException[failed to parse search source. unknown search element [function_score]];
Caused by: SearchParseException[failed to parse search source [
{

"function_score": {

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    },
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}

]
}

}]]; nested: SearchParseException[failed to parse search source. unknown search element [function_score]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: SearchParseException[failed to parse search source. unknown search element [function_score]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:836)
	... 12 more
[2016-08-31 09:50:28,499][DEBUG][action.search            ] [Lorelei II] [index][2], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=gc5k4maqTjGrMm5qKCHTLQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@277d39c0] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{

"function_score": {

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    },
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}

]
}

}]]; nested: SearchParseException[failed to parse search source. unknown search element [function_score]];
Caused by: SearchParseException[failed to parse search source [
{

"function_score": {

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    },
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}

]
}

}]]; nested: SearchParseException[failed to parse search source. unknown search element [function_score]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: SearchParseException[failed to parse search source. unknown search element [function_score]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:836)
	... 12 more
[2016-08-31 09:50:28,499][DEBUG][action.search            ] [Lorelei II] [index][0], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=uwxC4DPdSUuX8x-O2viY7A]: Failed to execute [org.elasticsearch.action.search.SearchRequest@277d39c0] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{

"function_score": {

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    },
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}

]
}

}]]; nested: SearchParseException[failed to parse search source. unknown search element [function_score]];
Caused by: SearchParseException[failed to parse search source [
{

"function_score": {

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    },
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}

]
}

}]]; nested: SearchParseException[failed to parse search source. unknown search element [function_score]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: SearchParseException[failed to parse search source. unknown search element [function_score]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:836)
	... 12 more
[2016-08-31 09:50:28,501][DEBUG][action.search            ] [Lorelei II] All shards failed for phase: [query]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{

"function_score": {

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    },
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}

]
}

}]]; nested: SearchParseException[failed to parse search source. unknown search element [function_score]];
Caused by: SearchParseException[failed to parse search source [
{

"function_score": {

    "query": {
        "match": {
            "content": "RIPA裂解液"
        }
    },
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}

]
}

}]]; nested: SearchParseException[failed to parse search source. unknown search element [function_score]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: SearchParseException[failed to parse search source. unknown search element [function_score]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:836)
	... 12 more
[2016-08-31 09:51:48,616][DEBUG][action.search            ] [Lorelei II] [index][4], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=OXB415qkQFuEZWynSBYjAQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@35b26c27] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{

"function_score": {
 "query": {
"match": {
            "content": "RIPA裂解液"
        }
    },
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]
}
}]]; nested: SearchParseException[failed to parse search source. unknown search element [function_score]];
Caused by: SearchParseException[failed to parse search source [
{

"function_score": {
 "query": {
"match": {
            "content": "RIPA裂解液"
        }
    },
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]
}
}]]; nested: SearchParseException[failed to parse search source. unknown search element [function_score]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: SearchParseException[failed to parse search source. unknown search element [function_score]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:836)
	... 12 more
[2016-08-31 09:51:48,616][DEBUG][action.search            ] [Lorelei II] [index][0], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=uwxC4DPdSUuX8x-O2viY7A]: Failed to execute [org.elasticsearch.action.search.SearchRequest@35b26c27] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{

"function_score": {
 "query": {
"match": {
            "content": "RIPA裂解液"
        }
    },
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]
}
}]]; nested: SearchParseException[failed to parse search source. unknown search element [function_score]];
Caused by: SearchParseException[failed to parse search source [
{

"function_score": {
 "query": {
"match": {
            "content": "RIPA裂解液"
        }
    },
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]
}
}]]; nested: SearchParseException[failed to parse search source. unknown search element [function_score]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: SearchParseException[failed to parse search source. unknown search element [function_score]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:836)
	... 12 more
[2016-08-31 09:51:48,616][DEBUG][action.search            ] [Lorelei II] [index][1], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=yngR1dGzRq6m-UXRw05lBg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@35b26c27] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{

"function_score": {
 "query": {
"match": {
            "content": "RIPA裂解液"
        }
    },
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]
}
}]]; nested: SearchParseException[failed to parse search source. unknown search element [function_score]];
Caused by: SearchParseException[failed to parse search source [
{

"function_score": {
 "query": {
"match": {
            "content": "RIPA裂解液"
        }
    },
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]
}
}]]; nested: SearchParseException[failed to parse search source. unknown search element [function_score]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: SearchParseException[failed to parse search source. unknown search element [function_score]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:836)
	... 12 more
[2016-08-31 09:51:48,616][DEBUG][action.search            ] [Lorelei II] [index][3], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=59pU4eC8RIKcRzyoi-ePQw]: Failed to execute [org.elasticsearch.action.search.SearchRequest@35b26c27]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{

"function_score": {
 "query": {
"match": {
            "content": "RIPA裂解液"
        }
    },
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]
}
}]]; nested: SearchParseException[failed to parse search source. unknown search element [function_score]];
Caused by: SearchParseException[failed to parse search source [
{

"function_score": {
 "query": {
"match": {
            "content": "RIPA裂解液"
        }
    },
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]
}
}]]; nested: SearchParseException[failed to parse search source. unknown search element [function_score]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: SearchParseException[failed to parse search source. unknown search element [function_score]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:836)
	... 12 more
[2016-08-31 09:51:48,616][DEBUG][action.search            ] [Lorelei II] [index][2], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=gc5k4maqTjGrMm5qKCHTLQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@35b26c27] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{

"function_score": {
 "query": {
"match": {
            "content": "RIPA裂解液"
        }
    },
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]
}
}]]; nested: SearchParseException[failed to parse search source. unknown search element [function_score]];
Caused by: SearchParseException[failed to parse search source [
{

"function_score": {
 "query": {
"match": {
            "content": "RIPA裂解液"
        }
    },
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]
}
}]]; nested: SearchParseException[failed to parse search source. unknown search element [function_score]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: SearchParseException[failed to parse search source. unknown search element [function_score]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:836)
	... 12 more
[2016-08-31 09:51:48,621][DEBUG][action.search            ] [Lorelei II] All shards failed for phase: [query]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{

"function_score": {
 "query": {
"match": {
            "content": "RIPA裂解液"
        }
    },
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]
}
}]]; nested: SearchParseException[failed to parse search source. unknown search element [function_score]];
Caused by: SearchParseException[failed to parse search source [
{

"function_score": {
 "query": {
"match": {
            "content": "RIPA裂解液"
        }
    },
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]
}
}]]; nested: SearchParseException[failed to parse search source. unknown search element [function_score]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: SearchParseException[failed to parse search source. unknown search element [function_score]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:836)
	... 12 more
[2016-08-31 09:53:12,564][DEBUG][action.search            ] [Lorelei II] [index][2], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=gc5k4maqTjGrMm5qKCHTLQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@389b7341] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{



    "query": {
        "match": {
            "content": "RIPA裂解液"
        },

"function_score": {
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}

]
}
    },

}

}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{



    "query": {
        "match": {
            "content": "RIPA裂解液"
        },

"function_score": {
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}

]
}
    },

}

}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 09:53:12,565][DEBUG][action.search            ] [Lorelei II] [index][4], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=OXB415qkQFuEZWynSBYjAQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@389b7341]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{



    "query": {
        "match": {
            "content": "RIPA裂解液"
        },

"function_score": {
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}

]
}
    },

}

}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{



    "query": {
        "match": {
            "content": "RIPA裂解液"
        },

"function_score": {
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}

]
}
    },

}

}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 09:53:12,565][DEBUG][action.search            ] [Lorelei II] [index][3], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=59pU4eC8RIKcRzyoi-ePQw]: Failed to execute [org.elasticsearch.action.search.SearchRequest@389b7341] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{



    "query": {
        "match": {
            "content": "RIPA裂解液"
        },

"function_score": {
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}

]
}
    },

}

}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{



    "query": {
        "match": {
            "content": "RIPA裂解液"
        },

"function_score": {
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}

]
}
    },

}

}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 09:53:12,565][DEBUG][action.search            ] [Lorelei II] [index][1], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=yngR1dGzRq6m-UXRw05lBg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@389b7341] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{



    "query": {
        "match": {
            "content": "RIPA裂解液"
        },

"function_score": {
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}

]
}
    },

}

}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{



    "query": {
        "match": {
            "content": "RIPA裂解液"
        },

"function_score": {
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}

]
}
    },

}

}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 09:53:12,564][DEBUG][action.search            ] [Lorelei II] [index][0], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=uwxC4DPdSUuX8x-O2viY7A]: Failed to execute [org.elasticsearch.action.search.SearchRequest@389b7341] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{



    "query": {
        "match": {
            "content": "RIPA裂解液"
        },

"function_score": {
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}

]
}
    },

}

}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{



    "query": {
        "match": {
            "content": "RIPA裂解液"
        },

"function_score": {
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}

]
}
    },

}

}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 09:53:12,568][DEBUG][action.search            ] [Lorelei II] All shards failed for phase: [query]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{



    "query": {
        "match": {
            "content": "RIPA裂解液"
        },

"function_score": {
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}

]
}
    },

}

}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{



    "query": {
        "match": {
            "content": "RIPA裂解液"
        },

"function_score": {
"functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}

]
}
    },

}

}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 09:55:17,517][DEBUG][action.search            ] [Lorelei II] [index][1], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=yngR1dGzRq6m-UXRw05lBg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@60b5fe69] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        }，
        "function_score": {
        
        "functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]
        }
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@2f01b722; line: 6, column: 11]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        }，
        "function_score": {
        
        "functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]
        }
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@2f01b722; line: 6, column: 11]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@2f01b722; line: 6, column: 11]];
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:225)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@2f01b722; line: 6, column: 11]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1581)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:533)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:462)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:727)
	at org.elasticsearch.common.xcontent.json.JsonXContentParser.nextToken(JsonXContentParser.java:53)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:253)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	... 15 more
[2016-08-31 09:55:17,518][DEBUG][action.search            ] [Lorelei II] [index][4], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=OXB415qkQFuEZWynSBYjAQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@60b5fe69] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        }，
        "function_score": {
        
        "functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]
        }
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@2f01b722; line: 6, column: 11]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        }，
        "function_score": {
        
        "functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]
        }
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@2f01b722; line: 6, column: 11]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@2f01b722; line: 6, column: 11]];
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:225)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@2f01b722; line: 6, column: 11]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1581)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:533)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:462)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:727)
	at org.elasticsearch.common.xcontent.json.JsonXContentParser.nextToken(JsonXContentParser.java:53)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:253)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	... 15 more
[2016-08-31 09:55:17,518][DEBUG][action.search            ] [Lorelei II] [index][2], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=gc5k4maqTjGrMm5qKCHTLQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@60b5fe69]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        }，
        "function_score": {
        
        "functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]
        }
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@2f01b722; line: 6, column: 11]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        }，
        "function_score": {
        
        "functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]
        }
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@2f01b722; line: 6, column: 11]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@2f01b722; line: 6, column: 11]];
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:225)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@2f01b722; line: 6, column: 11]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1581)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:533)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:462)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:727)
	at org.elasticsearch.common.xcontent.json.JsonXContentParser.nextToken(JsonXContentParser.java:53)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:253)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	... 15 more
[2016-08-31 09:55:17,517][DEBUG][action.search            ] [Lorelei II] [index][0], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=uwxC4DPdSUuX8x-O2viY7A]: Failed to execute [org.elasticsearch.action.search.SearchRequest@60b5fe69] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        }，
        "function_score": {
        
        "functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]
        }
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@2f01b722; line: 6, column: 11]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        }，
        "function_score": {
        
        "functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]
        }
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@2f01b722; line: 6, column: 11]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@2f01b722; line: 6, column: 11]];
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:225)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@2f01b722; line: 6, column: 11]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1581)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:533)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:462)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:727)
	at org.elasticsearch.common.xcontent.json.JsonXContentParser.nextToken(JsonXContentParser.java:53)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:253)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	... 15 more
[2016-08-31 09:55:17,517][DEBUG][action.search            ] [Lorelei II] [index][3], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=59pU4eC8RIKcRzyoi-ePQw]: Failed to execute [org.elasticsearch.action.search.SearchRequest@60b5fe69] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        }，
        "function_score": {
        
        "functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]
        }
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@2f01b722; line: 6, column: 11]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        }，
        "function_score": {
        
        "functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]
        }
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@2f01b722; line: 6, column: 11]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@2f01b722; line: 6, column: 11]];
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:225)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@2f01b722; line: 6, column: 11]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1581)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:533)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:462)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:727)
	at org.elasticsearch.common.xcontent.json.JsonXContentParser.nextToken(JsonXContentParser.java:53)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:253)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	... 15 more
[2016-08-31 09:55:17,525][DEBUG][action.search            ] [Lorelei II] All shards failed for phase: [query]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        }，
        "function_score": {
        
        "functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]
        }
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@2f01b722; line: 6, column: 11]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        }，
        "function_score": {
        
        "functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]
        }
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@2f01b722; line: 6, column: 11]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@2f01b722; line: 6, column: 11]];
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:225)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@2f01b722; line: 6, column: 11]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1581)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:533)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:462)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:727)
	at org.elasticsearch.common.xcontent.json.JsonXContentParser.nextToken(JsonXContentParser.java:53)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:253)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	... 15 more
[2016-08-31 09:57:07,839][DEBUG][action.search            ] [Lorelei II] [index][0], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=uwxC4DPdSUuX8x-O2viY7A]: Failed to execute [org.elasticsearch.action.search.SearchRequest@22d1c981] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        }，
        "function_score":{}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@a420389; line: 6, column: 11]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        }，
        "function_score":{}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@a420389; line: 6, column: 11]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@a420389; line: 6, column: 11]];
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:225)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@a420389; line: 6, column: 11]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1581)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:533)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:462)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:727)
	at org.elasticsearch.common.xcontent.json.JsonXContentParser.nextToken(JsonXContentParser.java:53)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:253)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	... 15 more
[2016-08-31 09:57:07,839][DEBUG][action.search            ] [Lorelei II] [index][4], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=OXB415qkQFuEZWynSBYjAQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@22d1c981]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        }，
        "function_score":{}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@a420389; line: 6, column: 11]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        }，
        "function_score":{}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@a420389; line: 6, column: 11]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@a420389; line: 6, column: 11]];
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:225)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@a420389; line: 6, column: 11]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1581)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:533)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:462)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:727)
	at org.elasticsearch.common.xcontent.json.JsonXContentParser.nextToken(JsonXContentParser.java:53)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:253)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	... 15 more
[2016-08-31 09:57:07,839][DEBUG][action.search            ] [Lorelei II] [index][1], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=yngR1dGzRq6m-UXRw05lBg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@22d1c981] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        }，
        "function_score":{}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@a420389; line: 6, column: 11]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        }，
        "function_score":{}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@a420389; line: 6, column: 11]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@a420389; line: 6, column: 11]];
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:225)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@a420389; line: 6, column: 11]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1581)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:533)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:462)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:727)
	at org.elasticsearch.common.xcontent.json.JsonXContentParser.nextToken(JsonXContentParser.java:53)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:253)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	... 15 more
[2016-08-31 09:57:07,839][DEBUG][action.search            ] [Lorelei II] [index][2], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=gc5k4maqTjGrMm5qKCHTLQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@22d1c981] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        }，
        "function_score":{}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@a420389; line: 6, column: 11]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        }，
        "function_score":{}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@a420389; line: 6, column: 11]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@a420389; line: 6, column: 11]];
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:225)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@a420389; line: 6, column: 11]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1581)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:533)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:462)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:727)
	at org.elasticsearch.common.xcontent.json.JsonXContentParser.nextToken(JsonXContentParser.java:53)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:253)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	... 15 more
[2016-08-31 09:57:07,839][DEBUG][action.search            ] [Lorelei II] [index][3], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=59pU4eC8RIKcRzyoi-ePQw]: Failed to execute [org.elasticsearch.action.search.SearchRequest@22d1c981] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        }，
        "function_score":{}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@a420389; line: 6, column: 11]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        }，
        "function_score":{}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@a420389; line: 6, column: 11]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@a420389; line: 6, column: 11]];
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:225)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@a420389; line: 6, column: 11]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1581)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:533)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:462)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:727)
	at org.elasticsearch.common.xcontent.json.JsonXContentParser.nextToken(JsonXContentParser.java:53)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:253)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	... 15 more
[2016-08-31 09:57:07,841][DEBUG][action.search            ] [Lorelei II] All shards failed for phase: [query]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        }，
        "function_score":{}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@a420389; line: 6, column: 11]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        }，
        "function_score":{}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@a420389; line: 6, column: 11]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@a420389; line: 6, column: 11]];
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:225)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('ï' (code 239)): was expecting comma to separate OBJECT entries
 at [Source: [B@a420389; line: 6, column: 11]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1581)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:533)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:462)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:727)
	at org.elasticsearch.common.xcontent.json.JsonXContentParser.nextToken(JsonXContentParser.java:53)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:253)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	... 15 more
[2016-08-31 09:57:37,939][DEBUG][action.search            ] [Lorelei II] [index][1], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=yngR1dGzRq6m-UXRw05lBg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@29be0389] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 09:57:37,940][DEBUG][action.search            ] [Lorelei II] [index][0], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=uwxC4DPdSUuX8x-O2viY7A]: Failed to execute [org.elasticsearch.action.search.SearchRequest@29be0389]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 09:57:37,940][DEBUG][action.search            ] [Lorelei II] [index][2], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=gc5k4maqTjGrMm5qKCHTLQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@29be0389] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 09:57:37,939][DEBUG][action.search            ] [Lorelei II] [index][4], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=OXB415qkQFuEZWynSBYjAQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@29be0389] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 09:57:37,939][DEBUG][action.search            ] [Lorelei II] [index][3], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=59pU4eC8RIKcRzyoi-ePQw]: Failed to execute [org.elasticsearch.action.search.SearchRequest@29be0389] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 09:57:37,941][DEBUG][action.search            ] [Lorelei II] All shards failed for phase: [query]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 09:58:14,772][DEBUG][action.search            ] [Lorelei II] [index][0], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=uwxC4DPdSUuX8x-O2viY7A]: Failed to execute [org.elasticsearch.action.search.SearchRequest@222380e2] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{
        "functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{
        "functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 09:58:14,773][DEBUG][action.search            ] [Lorelei II] [index][1], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=yngR1dGzRq6m-UXRw05lBg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@222380e2] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{
        "functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{
        "functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 09:58:14,797][DEBUG][action.search            ] [Lorelei II] [index][4], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=OXB415qkQFuEZWynSBYjAQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@222380e2]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{
        "functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{
        "functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 09:58:14,799][DEBUG][action.search            ] [Lorelei II] All shards failed for phase: [query]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{
        "functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{
        "functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 09:58:14,773][DEBUG][action.search            ] [Lorelei II] [index][2], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=gc5k4maqTjGrMm5qKCHTLQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@222380e2] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{
        "functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{
        "functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 09:58:14,773][DEBUG][action.search            ] [Lorelei II] [index][3], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=59pU4eC8RIKcRzyoi-ePQw]: Failed to execute [org.elasticsearch.action.search.SearchRequest@222380e2] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{
        "functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{
        "functions":[
"script_score" : {
    "script" : "_score * doc[rank].value"
}
]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:00:09,115][DEBUG][action.search            ] [Lorelei II] [index][4], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=OXB415qkQFuEZWynSBYjAQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@616a6b9b] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[ {"script_score" : { 
    "script" : "_score * doc[rank].value"
}}
]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[ {"script_score" : { 
    "script" : "_score * doc[rank].value"
}}
]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:00:09,116][DEBUG][action.search            ] [Lorelei II] [index][2], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=gc5k4maqTjGrMm5qKCHTLQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@616a6b9b]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[ {"script_score" : { 
    "script" : "_score * doc[rank].value"
}}
]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[ {"script_score" : { 
    "script" : "_score * doc[rank].value"
}}
]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:00:09,119][DEBUG][action.search            ] [Lorelei II] All shards failed for phase: [query]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[ {"script_score" : { 
    "script" : "_score * doc[rank].value"
}}
]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[ {"script_score" : { 
    "script" : "_score * doc[rank].value"
}}
]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:00:09,116][DEBUG][action.search            ] [Lorelei II] [index][1], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=yngR1dGzRq6m-UXRw05lBg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@616a6b9b] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[ {"script_score" : { 
    "script" : "_score * doc[rank].value"
}}
]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[ {"script_score" : { 
    "script" : "_score * doc[rank].value"
}}
]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:00:09,115][DEBUG][action.search            ] [Lorelei II] [index][0], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=uwxC4DPdSUuX8x-O2viY7A]: Failed to execute [org.elasticsearch.action.search.SearchRequest@616a6b9b] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[ {"script_score" : { 
    "script" : "_score * doc[rank].value"
}}
]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[ {"script_score" : { 
    "script" : "_score * doc[rank].value"
}}
]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:00:09,115][DEBUG][action.search            ] [Lorelei II] [index][3], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=59pU4eC8RIKcRzyoi-ePQw]: Failed to execute [org.elasticsearch.action.search.SearchRequest@616a6b9b] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[ {"script_score" : { 
    "script" : "_score * doc[rank].value"
}}
]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[ {"script_score" : { 
    "script" : "_score * doc[rank].value"
}}
]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:03:37,667][DEBUG][action.search            ] [Lorelei II] [index][3], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=59pU4eC8RIKcRzyoi-ePQw]: Failed to execute [org.elasticsearch.action.search.SearchRequest@30dc5412] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score:{"functions":["script_score":{"script":"_score * doc[rank].value""}]}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('f' (code 102)): was expecting a colon to separate field name and value
 at [Source: [B@3a12e1e6; line: 7, column: 28]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score:{"functions":["script_score":{"script":"_score * doc[rank].value""}]}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('f' (code 102)): was expecting a colon to separate field name and value
 at [Source: [B@3a12e1e6; line: 7, column: 28]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('f' (code 102)): was expecting a colon to separate field name and value
 at [Source: [B@3a12e1e6; line: 7, column: 28]];
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:225)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('f' (code 102)): was expecting a colon to separate field name and value
 at [Source: [B@3a12e1e6; line: 7, column: 28]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1581)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:533)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:462)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._skipColon2(UTF8StreamJsonParser.java:3009)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._skipColon(UTF8StreamJsonParser.java:2984)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:744)
	at org.elasticsearch.common.xcontent.json.JsonXContentParser.nextToken(JsonXContentParser.java:53)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:253)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	... 15 more
[2016-08-31 10:03:37,668][DEBUG][action.search            ] [Lorelei II] [index][0], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=uwxC4DPdSUuX8x-O2viY7A]: Failed to execute [org.elasticsearch.action.search.SearchRequest@30dc5412] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score:{"functions":["script_score":{"script":"_score * doc[rank].value""}]}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('f' (code 102)): was expecting a colon to separate field name and value
 at [Source: [B@3a12e1e6; line: 7, column: 28]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score:{"functions":["script_score":{"script":"_score * doc[rank].value""}]}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('f' (code 102)): was expecting a colon to separate field name and value
 at [Source: [B@3a12e1e6; line: 7, column: 28]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('f' (code 102)): was expecting a colon to separate field name and value
 at [Source: [B@3a12e1e6; line: 7, column: 28]];
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:225)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('f' (code 102)): was expecting a colon to separate field name and value
 at [Source: [B@3a12e1e6; line: 7, column: 28]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1581)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:533)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:462)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._skipColon2(UTF8StreamJsonParser.java:3009)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._skipColon(UTF8StreamJsonParser.java:2984)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:744)
	at org.elasticsearch.common.xcontent.json.JsonXContentParser.nextToken(JsonXContentParser.java:53)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:253)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	... 15 more
[2016-08-31 10:03:37,668][DEBUG][action.search            ] [Lorelei II] [index][2], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=gc5k4maqTjGrMm5qKCHTLQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@30dc5412]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score:{"functions":["script_score":{"script":"_score * doc[rank].value""}]}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('f' (code 102)): was expecting a colon to separate field name and value
 at [Source: [B@3a12e1e6; line: 7, column: 28]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score:{"functions":["script_score":{"script":"_score * doc[rank].value""}]}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('f' (code 102)): was expecting a colon to separate field name and value
 at [Source: [B@3a12e1e6; line: 7, column: 28]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('f' (code 102)): was expecting a colon to separate field name and value
 at [Source: [B@3a12e1e6; line: 7, column: 28]];
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:225)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('f' (code 102)): was expecting a colon to separate field name and value
 at [Source: [B@3a12e1e6; line: 7, column: 28]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1581)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:533)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:462)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._skipColon2(UTF8StreamJsonParser.java:3009)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._skipColon(UTF8StreamJsonParser.java:2984)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:744)
	at org.elasticsearch.common.xcontent.json.JsonXContentParser.nextToken(JsonXContentParser.java:53)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:253)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	... 15 more
[2016-08-31 10:03:37,668][DEBUG][action.search            ] [Lorelei II] [index][1], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=yngR1dGzRq6m-UXRw05lBg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@30dc5412] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score:{"functions":["script_score":{"script":"_score * doc[rank].value""}]}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('f' (code 102)): was expecting a colon to separate field name and value
 at [Source: [B@3a12e1e6; line: 7, column: 28]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score:{"functions":["script_score":{"script":"_score * doc[rank].value""}]}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('f' (code 102)): was expecting a colon to separate field name and value
 at [Source: [B@3a12e1e6; line: 7, column: 28]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('f' (code 102)): was expecting a colon to separate field name and value
 at [Source: [B@3a12e1e6; line: 7, column: 28]];
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:225)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('f' (code 102)): was expecting a colon to separate field name and value
 at [Source: [B@3a12e1e6; line: 7, column: 28]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1581)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:533)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:462)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._skipColon2(UTF8StreamJsonParser.java:3009)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._skipColon(UTF8StreamJsonParser.java:2984)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:744)
	at org.elasticsearch.common.xcontent.json.JsonXContentParser.nextToken(JsonXContentParser.java:53)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:253)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	... 15 more
[2016-08-31 10:03:37,667][DEBUG][action.search            ] [Lorelei II] [index][4], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=OXB415qkQFuEZWynSBYjAQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@30dc5412] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score:{"functions":["script_score":{"script":"_score * doc[rank].value""}]}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('f' (code 102)): was expecting a colon to separate field name and value
 at [Source: [B@3a12e1e6; line: 7, column: 28]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score:{"functions":["script_score":{"script":"_score * doc[rank].value""}]}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('f' (code 102)): was expecting a colon to separate field name and value
 at [Source: [B@3a12e1e6; line: 7, column: 28]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('f' (code 102)): was expecting a colon to separate field name and value
 at [Source: [B@3a12e1e6; line: 7, column: 28]];
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:225)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('f' (code 102)): was expecting a colon to separate field name and value
 at [Source: [B@3a12e1e6; line: 7, column: 28]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1581)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:533)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:462)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._skipColon2(UTF8StreamJsonParser.java:3009)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._skipColon(UTF8StreamJsonParser.java:2984)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:744)
	at org.elasticsearch.common.xcontent.json.JsonXContentParser.nextToken(JsonXContentParser.java:53)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:253)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	... 15 more
[2016-08-31 10:03:37,673][DEBUG][action.search            ] [Lorelei II] All shards failed for phase: [query]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score:{"functions":["script_score":{"script":"_score * doc[rank].value""}]}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('f' (code 102)): was expecting a colon to separate field name and value
 at [Source: [B@3a12e1e6; line: 7, column: 28]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score:{"functions":["script_score":{"script":"_score * doc[rank].value""}]}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('f' (code 102)): was expecting a colon to separate field name and value
 at [Source: [B@3a12e1e6; line: 7, column: 28]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('f' (code 102)): was expecting a colon to separate field name and value
 at [Source: [B@3a12e1e6; line: 7, column: 28]];
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:225)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('f' (code 102)): was expecting a colon to separate field name and value
 at [Source: [B@3a12e1e6; line: 7, column: 28]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1581)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:533)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:462)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._skipColon2(UTF8StreamJsonParser.java:3009)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._skipColon(UTF8StreamJsonParser.java:2984)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:744)
	at org.elasticsearch.common.xcontent.json.JsonXContentParser.nextToken(JsonXContentParser.java:53)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:253)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	... 15 more
[2016-08-31 10:04:18,898][DEBUG][action.search            ] [Lorelei II] [index][3], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=59pU4eC8RIKcRzyoi-ePQw]: Failed to execute [org.elasticsearch.action.search.SearchRequest@70e8c53] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":["script_score":{"script":"_score * doc[rank].value"}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":["script_score":{"script":"_score * doc[rank].value"}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:04:18,898][DEBUG][action.search            ] [Lorelei II] [index][2], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=gc5k4maqTjGrMm5qKCHTLQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@70e8c53] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":["script_score":{"script":"_score * doc[rank].value"}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":["script_score":{"script":"_score * doc[rank].value"}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:04:18,899][DEBUG][action.search            ] [Lorelei II] [index][4], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=OXB415qkQFuEZWynSBYjAQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@70e8c53]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":["script_score":{"script":"_score * doc[rank].value"}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":["script_score":{"script":"_score * doc[rank].value"}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:04:18,898][DEBUG][action.search            ] [Lorelei II] [index][0], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=uwxC4DPdSUuX8x-O2viY7A]: Failed to execute [org.elasticsearch.action.search.SearchRequest@70e8c53] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":["script_score":{"script":"_score * doc[rank].value"}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":["script_score":{"script":"_score * doc[rank].value"}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:04:18,898][DEBUG][action.search            ] [Lorelei II] [index][1], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=yngR1dGzRq6m-UXRw05lBg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@70e8c53] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":["script_score":{"script":"_score * doc[rank].value"}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":["script_score":{"script":"_score * doc[rank].value"}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:04:18,902][DEBUG][action.search            ] [Lorelei II] All shards failed for phase: [query]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":["script_score":{"script":"_score * doc[rank].value"}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":["script_score":{"script":"_score * doc[rank].value"}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:05:41,363][DEBUG][action.search            ] [Lorelei II] [index][2], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=gc5k4maqTjGrMm5qKCHTLQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@654c772f] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:05:41,364][DEBUG][action.search            ] [Lorelei II] [index][3], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=59pU4eC8RIKcRzyoi-ePQw]: Failed to execute [org.elasticsearch.action.search.SearchRequest@654c772f]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:05:41,363][DEBUG][action.search            ] [Lorelei II] [index][1], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=yngR1dGzRq6m-UXRw05lBg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@654c772f] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:05:41,363][DEBUG][action.search            ] [Lorelei II] [index][0], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=uwxC4DPdSUuX8x-O2viY7A]: Failed to execute [org.elasticsearch.action.search.SearchRequest@654c772f] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:05:41,363][DEBUG][action.search            ] [Lorelei II] [index][4], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=OXB415qkQFuEZWynSBYjAQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@654c772f] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:05:41,365][DEBUG][action.search            ] [Lorelei II] All shards failed for phase: [query]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:08:05,083][DEBUG][action.search            ] [Lorelei II] [index][1], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=yngR1dGzRq6m-UXRw05lBg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@62837aac] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:08:05,084][DEBUG][action.search            ] [Lorelei II] [index][4], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=OXB415qkQFuEZWynSBYjAQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@62837aac]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:08:05,083][DEBUG][action.search            ] [Lorelei II] [index][2], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=gc5k4maqTjGrMm5qKCHTLQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@62837aac] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:08:05,083][DEBUG][action.search            ] [Lorelei II] [index][3], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=59pU4eC8RIKcRzyoi-ePQw]: Failed to execute [org.elasticsearch.action.search.SearchRequest@62837aac] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:08:05,083][DEBUG][action.search            ] [Lorelei II] [index][0], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=uwxC4DPdSUuX8x-O2viY7A]: Failed to execute [org.elasticsearch.action.search.SearchRequest@62837aac] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:08:05,085][DEBUG][action.search            ] [Lorelei II] All shards failed for phase: [query]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:09:29,018][DEBUG][action.search            ] [Lorelei II] [index][0], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=uwxC4DPdSUuX8x-O2viY7A]: Failed to execute [org.elasticsearch.action.search.SearchRequest@431d0666] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:09:29,018][DEBUG][action.search            ] [Lorelei II] [index][4], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=OXB415qkQFuEZWynSBYjAQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@431d0666]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:09:29,018][DEBUG][action.search            ] [Lorelei II] [index][1], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=yngR1dGzRq6m-UXRw05lBg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@431d0666] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:09:29,018][DEBUG][action.search            ] [Lorelei II] [index][2], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=gc5k4maqTjGrMm5qKCHTLQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@431d0666] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:09:29,018][DEBUG][action.search            ] [Lorelei II] [index][3], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=59pU4eC8RIKcRzyoi-ePQw]: Failed to execute [org.elasticsearch.action.search.SearchRequest@431d0666] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:09:29,020][DEBUG][action.search            ] [Lorelei II] All shards failed for phase: [query]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:09:58,585][DEBUG][action.search            ] [Lorelei II] [index][2], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=gc5k4maqTjGrMm5qKCHTLQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@d699a84] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:09:58,586][DEBUG][action.search            ] [Lorelei II] [index][3], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=59pU4eC8RIKcRzyoi-ePQw]: Failed to execute [org.elasticsearch.action.search.SearchRequest@d699a84] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:09:58,585][DEBUG][action.search            ] [Lorelei II] [index][4], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=OXB415qkQFuEZWynSBYjAQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@d699a84]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:09:58,585][DEBUG][action.search            ] [Lorelei II] [index][1], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=yngR1dGzRq6m-UXRw05lBg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@d699a84] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:09:58,588][DEBUG][action.search            ] [Lorelei II] All shards failed for phase: [query]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:09:58,586][DEBUG][action.search            ] [Lorelei II] [index][0], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=uwxC4DPdSUuX8x-O2viY7A]: Failed to execute [org.elasticsearch.action.search.SearchRequest@d699a84] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:10:59,923][DEBUG][action.search            ] [Lorelei II] [index][1], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=yngR1dGzRq6m-UXRw05lBg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@dcd89b5] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        //"function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('}' (code 125)): was expecting either valid name character (for unquoted name) or double-quote (for quoted) to start field name
 at [Source: [B@59d3d9ce; line: 8, column: 6]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        //"function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('}' (code 125)): was expecting either valid name character (for unquoted name) or double-quote (for quoted) to start field name
 at [Source: [B@59d3d9ce; line: 8, column: 6]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('}' (code 125)): was expecting either valid name character (for unquoted name) or double-quote (for quoted) to start field name
 at [Source: [B@59d3d9ce; line: 8, column: 6]];
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:225)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('}' (code 125)): was expecting either valid name character (for unquoted name) or double-quote (for quoted) to start field name
 at [Source: [B@59d3d9ce; line: 8, column: 6]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1581)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:533)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:462)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._handleOddName(UTF8StreamJsonParser.java:2012)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._parseName(UTF8StreamJsonParser.java:1650)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:740)
	at org.elasticsearch.common.xcontent.json.JsonXContentParser.nextToken(JsonXContentParser.java:53)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:253)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	... 15 more
[2016-08-31 10:10:59,924][DEBUG][action.search            ] [Lorelei II] [index][0], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=uwxC4DPdSUuX8x-O2viY7A]: Failed to execute [org.elasticsearch.action.search.SearchRequest@dcd89b5]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        //"function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('}' (code 125)): was expecting either valid name character (for unquoted name) or double-quote (for quoted) to start field name
 at [Source: [B@59d3d9ce; line: 8, column: 6]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        //"function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('}' (code 125)): was expecting either valid name character (for unquoted name) or double-quote (for quoted) to start field name
 at [Source: [B@59d3d9ce; line: 8, column: 6]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('}' (code 125)): was expecting either valid name character (for unquoted name) or double-quote (for quoted) to start field name
 at [Source: [B@59d3d9ce; line: 8, column: 6]];
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:225)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('}' (code 125)): was expecting either valid name character (for unquoted name) or double-quote (for quoted) to start field name
 at [Source: [B@59d3d9ce; line: 8, column: 6]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1581)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:533)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:462)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._handleOddName(UTF8StreamJsonParser.java:2012)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._parseName(UTF8StreamJsonParser.java:1650)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:740)
	at org.elasticsearch.common.xcontent.json.JsonXContentParser.nextToken(JsonXContentParser.java:53)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:253)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	... 15 more
[2016-08-31 10:10:59,924][DEBUG][action.search            ] [Lorelei II] [index][2], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=gc5k4maqTjGrMm5qKCHTLQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@dcd89b5] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        //"function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('}' (code 125)): was expecting either valid name character (for unquoted name) or double-quote (for quoted) to start field name
 at [Source: [B@59d3d9ce; line: 8, column: 6]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        //"function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('}' (code 125)): was expecting either valid name character (for unquoted name) or double-quote (for quoted) to start field name
 at [Source: [B@59d3d9ce; line: 8, column: 6]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('}' (code 125)): was expecting either valid name character (for unquoted name) or double-quote (for quoted) to start field name
 at [Source: [B@59d3d9ce; line: 8, column: 6]];
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:225)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('}' (code 125)): was expecting either valid name character (for unquoted name) or double-quote (for quoted) to start field name
 at [Source: [B@59d3d9ce; line: 8, column: 6]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1581)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:533)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:462)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._handleOddName(UTF8StreamJsonParser.java:2012)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._parseName(UTF8StreamJsonParser.java:1650)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:740)
	at org.elasticsearch.common.xcontent.json.JsonXContentParser.nextToken(JsonXContentParser.java:53)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:253)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	... 15 more
[2016-08-31 10:10:59,923][DEBUG][action.search            ] [Lorelei II] [index][4], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=OXB415qkQFuEZWynSBYjAQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@dcd89b5] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        //"function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('}' (code 125)): was expecting either valid name character (for unquoted name) or double-quote (for quoted) to start field name
 at [Source: [B@59d3d9ce; line: 8, column: 6]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        //"function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('}' (code 125)): was expecting either valid name character (for unquoted name) or double-quote (for quoted) to start field name
 at [Source: [B@59d3d9ce; line: 8, column: 6]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('}' (code 125)): was expecting either valid name character (for unquoted name) or double-quote (for quoted) to start field name
 at [Source: [B@59d3d9ce; line: 8, column: 6]];
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:225)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('}' (code 125)): was expecting either valid name character (for unquoted name) or double-quote (for quoted) to start field name
 at [Source: [B@59d3d9ce; line: 8, column: 6]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1581)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:533)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:462)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._handleOddName(UTF8StreamJsonParser.java:2012)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._parseName(UTF8StreamJsonParser.java:1650)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:740)
	at org.elasticsearch.common.xcontent.json.JsonXContentParser.nextToken(JsonXContentParser.java:53)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:253)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	... 15 more
[2016-08-31 10:10:59,923][DEBUG][action.search            ] [Lorelei II] [index][3], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=59pU4eC8RIKcRzyoi-ePQw]: Failed to execute [org.elasticsearch.action.search.SearchRequest@dcd89b5] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        //"function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('}' (code 125)): was expecting either valid name character (for unquoted name) or double-quote (for quoted) to start field name
 at [Source: [B@59d3d9ce; line: 8, column: 6]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        //"function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('}' (code 125)): was expecting either valid name character (for unquoted name) or double-quote (for quoted) to start field name
 at [Source: [B@59d3d9ce; line: 8, column: 6]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('}' (code 125)): was expecting either valid name character (for unquoted name) or double-quote (for quoted) to start field name
 at [Source: [B@59d3d9ce; line: 8, column: 6]];
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:225)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('}' (code 125)): was expecting either valid name character (for unquoted name) or double-quote (for quoted) to start field name
 at [Source: [B@59d3d9ce; line: 8, column: 6]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1581)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:533)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:462)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._handleOddName(UTF8StreamJsonParser.java:2012)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._parseName(UTF8StreamJsonParser.java:1650)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:740)
	at org.elasticsearch.common.xcontent.json.JsonXContentParser.nextToken(JsonXContentParser.java:53)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:253)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	... 15 more
[2016-08-31 10:10:59,926][DEBUG][action.search            ] [Lorelei II] All shards failed for phase: [query]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        //"function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('}' (code 125)): was expecting either valid name character (for unquoted name) or double-quote (for quoted) to start field name
 at [Source: [B@59d3d9ce; line: 8, column: 6]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        //"function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('}' (code 125)): was expecting either valid name character (for unquoted name) or double-quote (for quoted) to start field name
 at [Source: [B@59d3d9ce; line: 8, column: 6]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[Failed to parse]; nested: JsonParseException[Unexpected character ('}' (code 125)): was expecting either valid name character (for unquoted name) or double-quote (for quoted) to start field name
 at [Source: [B@59d3d9ce; line: 8, column: 6]];
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:225)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('}' (code 125)): was expecting either valid name character (for unquoted name) or double-quote (for quoted) to start field name
 at [Source: [B@59d3d9ce; line: 8, column: 6]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1581)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:533)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:462)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._handleOddName(UTF8StreamJsonParser.java:2012)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._parseName(UTF8StreamJsonParser.java:1650)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:740)
	at org.elasticsearch.common.xcontent.json.JsonXContentParser.nextToken(JsonXContentParser.java:53)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:253)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	... 15 more
[2016-08-31 10:12:34,486][DEBUG][action.search            ] [Lorelei II] [index][1], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=yngR1dGzRq6m-UXRw05lBg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@18dac40d] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:12:34,486][DEBUG][action.search            ] [Lorelei II] [index][3], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=59pU4eC8RIKcRzyoi-ePQw]: Failed to execute [org.elasticsearch.action.search.SearchRequest@18dac40d] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:12:34,487][DEBUG][action.search            ] [Lorelei II] [index][4], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=OXB415qkQFuEZWynSBYjAQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@18dac40d]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:12:34,486][DEBUG][action.search            ] [Lorelei II] [index][2], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=gc5k4maqTjGrMm5qKCHTLQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@18dac40d] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:12:34,486][DEBUG][action.search            ] [Lorelei II] [index][0], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=uwxC4DPdSUuX8x-O2viY7A]: Failed to execute [org.elasticsearch.action.search.SearchRequest@18dac40d] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:12:34,489][DEBUG][action.search            ] [Lorelei II] All shards failed for phase: [query]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {
        "match": {
            "content": "RIPA裂解液"
        },
        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:14:46,740][DEBUG][action.search            ] [Lorelei II] [index][0], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=uwxC4DPdSUuX8x-O2viY7A]: Failed to execute [org.elasticsearch.action.search.SearchRequest@78b8e438] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {
    "match": {
      "content": "RIPA裂解液"
    },
    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ]
    }
  }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {
    "match": {
      "content": "RIPA裂解液"
    },
    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ]
    }
  }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:14:46,740][DEBUG][action.search            ] [Lorelei II] [index][4], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=OXB415qkQFuEZWynSBYjAQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@78b8e438]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {
    "match": {
      "content": "RIPA裂解液"
    },
    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ]
    }
  }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {
    "match": {
      "content": "RIPA裂解液"
    },
    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ]
    }
  }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:14:46,741][DEBUG][action.search            ] [Lorelei II] All shards failed for phase: [query]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {
    "match": {
      "content": "RIPA裂解液"
    },
    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ]
    }
  }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {
    "match": {
      "content": "RIPA裂解液"
    },
    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ]
    }
  }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:14:46,740][DEBUG][action.search            ] [Lorelei II] [index][3], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=59pU4eC8RIKcRzyoi-ePQw]: Failed to execute [org.elasticsearch.action.search.SearchRequest@78b8e438] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {
    "match": {
      "content": "RIPA裂解液"
    },
    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ]
    }
  }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {
    "match": {
      "content": "RIPA裂解液"
    },
    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ]
    }
  }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:14:46,740][DEBUG][action.search            ] [Lorelei II] [index][1], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=yngR1dGzRq6m-UXRw05lBg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@78b8e438] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {
    "match": {
      "content": "RIPA裂解液"
    },
    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ]
    }
  }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {
    "match": {
      "content": "RIPA裂解液"
    },
    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ]
    }
  }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:14:46,740][DEBUG][action.search            ] [Lorelei II] [index][2], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=gc5k4maqTjGrMm5qKCHTLQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@78b8e438] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {
    "match": {
      "content": "RIPA裂解液"
    },
    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ]
    }
  }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {
    "match": {
      "content": "RIPA裂解液"
    },
    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ]
    }
  }
}]]; nested: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ElasticsearchParseException[failed to parse search source. expected field name but got [START_OBJECT]]
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:843)
	... 12 more
[2016-08-31 10:20:50,827][DEBUG][action.search            ] [Lorelei II] [index][2], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=gc5k4maqTjGrMm5qKCHTLQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@733ed393] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {

        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {

        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled]
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:244)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:20:50,828][DEBUG][action.search            ] [Lorelei II] [index][0], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=uwxC4DPdSUuX8x-O2viY7A]: Failed to execute [org.elasticsearch.action.search.SearchRequest@733ed393] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {

        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {

        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled]
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:244)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:20:50,828][DEBUG][action.search            ] [Lorelei II] [index][3], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=59pU4eC8RIKcRzyoi-ePQw]: Failed to execute [org.elasticsearch.action.search.SearchRequest@733ed393]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {

        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {

        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled]
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:244)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:20:50,827][DEBUG][action.search            ] [Lorelei II] [index][4], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=OXB415qkQFuEZWynSBYjAQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@733ed393] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {

        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {

        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled]
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:244)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:20:50,827][DEBUG][action.search            ] [Lorelei II] [index][1], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=yngR1dGzRq6m-UXRw05lBg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@733ed393] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {

        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {

        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled]
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:244)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:20:50,833][DEBUG][action.search            ] [Lorelei II] All shards failed for phase: [query]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
    "query": {

        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
Caused by: SearchParseException[failed to parse search source [
{
    "query": {

        "function_score":{"functions":[{"script_score":{"script":"_score * doc[rank].value"}}]}
    }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled]
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:244)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:23:22,511][DEBUG][action.search            ] [Lorelei II] [index][2], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=gc5k4maqTjGrMm5qKCHTLQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@7f97bad6] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled]
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:244)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:23:22,511][DEBUG][action.search            ] [Lorelei II] [index][4], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=OXB415qkQFuEZWynSBYjAQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@7f97bad6]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled]
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:244)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:23:22,511][DEBUG][action.search            ] [Lorelei II] [index][1], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=yngR1dGzRq6m-UXRw05lBg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@7f97bad6] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled]
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:244)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:23:22,511][DEBUG][action.search            ] [Lorelei II] [index][3], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=59pU4eC8RIKcRzyoi-ePQw]: Failed to execute [org.elasticsearch.action.search.SearchRequest@7f97bad6] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled]
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:244)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:23:22,511][DEBUG][action.search            ] [Lorelei II] [index][0], node[_367hZEuTa-D1t0cKOkbCw], [P], v[2], s[STARTED], a[id=uwxC4DPdSUuX8x-O2viY7A]: Failed to execute [org.elasticsearch.action.search.SearchRequest@7f97bad6] lastShard [true]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled]
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:244)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:23:22,515][DEBUG][action.search            ] [Lorelei II] All shards failed for phase: [query]
RemoteTransportException[[Lorelei II][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled]
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:244)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:24:52,243][INFO ][node                     ] [Lorelei II] stopping ...
[2016-08-31 10:24:52,305][INFO ][node                     ] [Lorelei II] stopped
[2016-08-31 10:24:52,305][INFO ][node                     ] [Lorelei II] closing ...
[2016-08-31 10:24:52,314][INFO ][node                     ] [Lorelei II] closed
[2016-08-31 10:24:55,278][INFO ][node                     ] [Marvel Girl] version[2.3.5], pid[21845], build[90f439f/2016-07-27T10:36:52Z]
[2016-08-31 10:24:55,278][INFO ][node                     ] [Marvel Girl] initializing ...
[2016-08-31 10:24:55,832][INFO ][plugins                  ] [Marvel Girl] modules [lang-groovy, reindex, lang-expression], plugins [analysis-ik], sites []
[2016-08-31 10:24:55,863][INFO ][env                      ] [Marvel Girl] using [1] data paths, mounts [[/ (/dev/sda6)]], net usable_space [25.8gb], net total_space [94.7gb], spins? [no], types [ext4]
[2016-08-31 10:24:55,863][INFO ][env                      ] [Marvel Girl] heap size [990.7mb], compressed ordinary object pointers [true]
[2016-08-31 10:24:55,864][WARN ][env                      ] [Marvel Girl] max file descriptors [4096] for elasticsearch process likely too low, consider increasing to at least [65536]
[2016-08-31 10:24:57,572][INFO ][ik-analyzer              ] try load config from /home/philip/elasticsearch-2.3.5/config/analysis-ik/IKAnalyzer.cfg.xml
[2016-08-31 10:24:57,573][INFO ][ik-analyzer              ] try load config from /home/philip/elasticsearch-2.3.5/plugins/ik/config/IKAnalyzer.cfg.xml
[2016-08-31 10:24:58,004][INFO ][ik-analyzer              ] [Dict Loading] custom/mydict.dic
[2016-08-31 10:24:58,044][INFO ][ik-analyzer              ] [Dict Loading] custom/single_word_low_freq.dic
[2016-08-31 10:24:58,048][INFO ][ik-analyzer              ] [Dict Loading] custom/ext_stopword.dic
[2016-08-31 10:24:58,491][INFO ][node                     ] [Marvel Girl] initialized
[2016-08-31 10:24:58,491][INFO ][node                     ] [Marvel Girl] starting ...
[2016-08-31 10:24:58,654][INFO ][transport                ] [Marvel Girl] publish_address {127.0.0.1:9300}, bound_addresses {127.0.0.1:9300}, {[::1]:9300}
[2016-08-31 10:24:58,658][INFO ][discovery                ] [Marvel Girl] elasticsearch/CdDsTz5JSDWYrhC8Z0BGqQ
[2016-08-31 10:25:01,722][INFO ][cluster.service          ] [Marvel Girl] new_master {Marvel Girl}{CdDsTz5JSDWYrhC8Z0BGqQ}{127.0.0.1}{127.0.0.1:9300}, reason: zen-disco-join(elected_as_master, [0] joins received)
[2016-08-31 10:25:01,749][INFO ][http                     ] [Marvel Girl] publish_address {127.0.0.1:9200}, bound_addresses {127.0.0.1:9200}, {[::1]:9200}
[2016-08-31 10:25:01,749][INFO ][node                     ] [Marvel Girl] started
[2016-08-31 10:25:01,812][INFO ][gateway                  ] [Marvel Girl] recovered [1] indices into cluster_state
[2016-08-31 10:25:02,363][INFO ][cluster.routing.allocation] [Marvel Girl] Cluster health status changed from [RED] to [YELLOW] (reason: [shards started [[index][0]] ...]).
[2016-08-31 10:25:10,216][DEBUG][action.search            ] [Marvel Girl] [index][2], node[CdDsTz5JSDWYrhC8Z0BGqQ], [P], v[4], s[STARTED], a[id=dJ8O3x3lS9ecsYtKOxhJKA]: Failed to execute [org.elasticsearch.action.search.SearchRequest@3a3f97bd] lastShard [true]
RemoteTransportException[[Marvel Girl][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled]
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:244)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:25:10,216][DEBUG][action.search            ] [Marvel Girl] [index][3], node[CdDsTz5JSDWYrhC8Z0BGqQ], [P], v[4], s[STARTED], a[id=Bp7u2v58S4W7Kc3vdozufQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@3a3f97bd] lastShard [true]
RemoteTransportException[[Marvel Girl][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled]
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:244)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:25:10,217][DEBUG][action.search            ] [Marvel Girl] [index][4], node[CdDsTz5JSDWYrhC8Z0BGqQ], [P], v[4], s[STARTED], a[id=pze0MDr5SZaJK3tx1MhxNg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@3a3f97bd]
RemoteTransportException[[Marvel Girl][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled]
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:244)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:25:10,216][DEBUG][action.search            ] [Marvel Girl] [index][1], node[CdDsTz5JSDWYrhC8Z0BGqQ], [P], v[4], s[STARTED], a[id=4XvBT2JKQ8GOy3e77TSQ1Q]: Failed to execute [org.elasticsearch.action.search.SearchRequest@3a3f97bd] lastShard [true]
RemoteTransportException[[Marvel Girl][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled]
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:244)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:25:10,216][DEBUG][action.search            ] [Marvel Girl] [index][0], node[CdDsTz5JSDWYrhC8Z0BGqQ], [P], v[4], s[STARTED], a[id=2R7MqvlRQyiBluQbel7dlw]: Failed to execute [org.elasticsearch.action.search.SearchRequest@3a3f97bd] lastShard [true]
RemoteTransportException[[Marvel Girl][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled]
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:244)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:25:10,229][DEBUG][action.search            ] [Marvel Girl] All shards failed for phase: [query]
RemoteTransportException[[Marvel Girl][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled]
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:244)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:25:24,022][DEBUG][action.search            ] [Marvel Girl] [index][2], node[CdDsTz5JSDWYrhC8Z0BGqQ], [P], v[4], s[STARTED], a[id=dJ8O3x3lS9ecsYtKOxhJKA]: Failed to execute [org.elasticsearch.action.search.SearchRequest@468b9227] lastShard [true]
RemoteTransportException[[Marvel Girl][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled]
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:244)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:25:24,026][DEBUG][action.search            ] [Marvel Girl] [index][0], node[CdDsTz5JSDWYrhC8Z0BGqQ], [P], v[4], s[STARTED], a[id=2R7MqvlRQyiBluQbel7dlw]: Failed to execute [org.elasticsearch.action.search.SearchRequest@468b9227] lastShard [true]
RemoteTransportException[[Marvel Girl][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled]
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:244)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:25:24,025][DEBUG][action.search            ] [Marvel Girl] [index][1], node[CdDsTz5JSDWYrhC8Z0BGqQ], [P], v[4], s[STARTED], a[id=4XvBT2JKQ8GOy3e77TSQ1Q]: Failed to execute [org.elasticsearch.action.search.SearchRequest@468b9227]
RemoteTransportException[[Marvel Girl][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled]
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:244)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:25:24,025][DEBUG][action.search            ] [Marvel Girl] [index][4], node[CdDsTz5JSDWYrhC8Z0BGqQ], [P], v[4], s[STARTED], a[id=pze0MDr5SZaJK3tx1MhxNg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@468b9227] lastShard [true]
RemoteTransportException[[Marvel Girl][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled]
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:244)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:25:24,022][DEBUG][action.search            ] [Marvel Girl] [index][3], node[CdDsTz5JSDWYrhC8Z0BGqQ], [P], v[4], s[STARTED], a[id=Bp7u2v58S4W7Kc3vdozufQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@468b9227] lastShard [true]
RemoteTransportException[[Marvel Girl][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled]
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:244)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:25:24,036][DEBUG][action.search            ] [Marvel Girl] All shards failed for phase: [query]
RemoteTransportException[[Marvel Girl][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled]
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:244)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:27:46,010][DEBUG][action.search            ] [Marvel Girl] [index][1], node[CdDsTz5JSDWYrhC8Z0BGqQ], [P], v[4], s[STARTED], a[id=4XvBT2JKQ8GOy3e77TSQ1Q]: Failed to execute [org.elasticsearch.action.search.SearchRequest@17edf844] lastShard [true]
RemoteTransportException[[Marvel Girl][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value",
            "lang":"groovy"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value",
            "lang":"groovy"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled]
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:244)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:27:46,011][DEBUG][action.search            ] [Marvel Girl] [index][4], node[CdDsTz5JSDWYrhC8Z0BGqQ], [P], v[4], s[STARTED], a[id=pze0MDr5SZaJK3tx1MhxNg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@17edf844]
RemoteTransportException[[Marvel Girl][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value",
            "lang":"groovy"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value",
            "lang":"groovy"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled]
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:244)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:27:46,017][DEBUG][action.search            ] [Marvel Girl] All shards failed for phase: [query]
RemoteTransportException[[Marvel Girl][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value",
            "lang":"groovy"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value",
            "lang":"groovy"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled]
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:244)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:27:46,011][DEBUG][action.search            ] [Marvel Girl] [index][2], node[CdDsTz5JSDWYrhC8Z0BGqQ], [P], v[4], s[STARTED], a[id=dJ8O3x3lS9ecsYtKOxhJKA]: Failed to execute [org.elasticsearch.action.search.SearchRequest@17edf844] lastShard [true]
RemoteTransportException[[Marvel Girl][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value",
            "lang":"groovy"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value",
            "lang":"groovy"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled]
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:244)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:27:46,010][DEBUG][action.search            ] [Marvel Girl] [index][3], node[CdDsTz5JSDWYrhC8Z0BGqQ], [P], v[4], s[STARTED], a[id=Bp7u2v58S4W7Kc3vdozufQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@17edf844] lastShard [true]
RemoteTransportException[[Marvel Girl][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value",
            "lang":"groovy"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value",
            "lang":"groovy"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled]
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:244)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:27:46,010][DEBUG][action.search            ] [Marvel Girl] [index][0], node[CdDsTz5JSDWYrhC8Z0BGqQ], [P], v[4], s[STARTED], a[id=2R7MqvlRQyiBluQbel7dlw]: Failed to execute [org.elasticsearch.action.search.SearchRequest@17edf844] lastShard [true]
RemoteTransportException[[Marvel Girl][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value",
            "lang":"groovy"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value",
            "lang":"groovy"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[scripts of type [inline], operation [search] and lang [groovy] are disabled]
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:244)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:28:31,428][INFO ][node                     ] [Marvel Girl] stopping ...
[2016-08-31 10:28:31,559][INFO ][node                     ] [Marvel Girl] stopped
[2016-08-31 10:28:31,559][INFO ][node                     ] [Marvel Girl] closing ...
[2016-08-31 10:28:31,568][INFO ][node                     ] [Marvel Girl] closed
[2016-08-31 10:28:33,596][INFO ][node                     ] [Aftershock] version[2.3.5], pid[22990], build[90f439f/2016-07-27T10:36:52Z]
[2016-08-31 10:28:33,597][INFO ][node                     ] [Aftershock] initializing ...
[2016-08-31 10:28:34,258][INFO ][plugins                  ] [Aftershock] modules [lang-groovy, reindex, lang-expression], plugins [analysis-ik], sites []
[2016-08-31 10:28:34,288][INFO ][env                      ] [Aftershock] using [1] data paths, mounts [[/ (/dev/sda6)]], net usable_space [25.8gb], net total_space [94.7gb], spins? [no], types [ext4]
[2016-08-31 10:28:34,288][INFO ][env                      ] [Aftershock] heap size [990.7mb], compressed ordinary object pointers [true]
[2016-08-31 10:28:34,289][WARN ][env                      ] [Aftershock] max file descriptors [4096] for elasticsearch process likely too low, consider increasing to at least [65536]
[2016-08-31 10:28:35,771][INFO ][ik-analyzer              ] try load config from /home/philip/elasticsearch-2.3.5/config/analysis-ik/IKAnalyzer.cfg.xml
[2016-08-31 10:28:35,771][INFO ][ik-analyzer              ] try load config from /home/philip/elasticsearch-2.3.5/plugins/ik/config/IKAnalyzer.cfg.xml
[2016-08-31 10:28:36,161][INFO ][ik-analyzer              ] [Dict Loading] custom/mydict.dic
[2016-08-31 10:28:36,225][INFO ][ik-analyzer              ] [Dict Loading] custom/single_word_low_freq.dic
[2016-08-31 10:28:36,230][INFO ][ik-analyzer              ] [Dict Loading] custom/ext_stopword.dic
[2016-08-31 10:28:36,763][INFO ][node                     ] [Aftershock] initialized
[2016-08-31 10:28:36,763][INFO ][node                     ] [Aftershock] starting ...
[2016-08-31 10:28:36,936][INFO ][transport                ] [Aftershock] publish_address {127.0.0.1:9300}, bound_addresses {127.0.0.1:9300}, {[::1]:9300}
[2016-08-31 10:28:36,941][INFO ][discovery                ] [Aftershock] elasticsearch/l7uDRLNjTS6hkH4mg3bCbw
[2016-08-31 10:28:40,014][INFO ][cluster.service          ] [Aftershock] new_master {Aftershock}{l7uDRLNjTS6hkH4mg3bCbw}{127.0.0.1}{127.0.0.1:9300}, reason: zen-disco-join(elected_as_master, [0] joins received)
[2016-08-31 10:28:40,037][INFO ][http                     ] [Aftershock] publish_address {127.0.0.1:9200}, bound_addresses {127.0.0.1:9200}, {[::1]:9200}
[2016-08-31 10:28:40,037][INFO ][node                     ] [Aftershock] started
[2016-08-31 10:28:40,094][INFO ][gateway                  ] [Aftershock] recovered [1] indices into cluster_state
[2016-08-31 10:28:40,484][DEBUG][action.search            ] [Aftershock] All shards failed for phase: [query]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: IllegalIndexShardStateException[CurrentState[RECOVERING] operations only allowed when shard state is one of [POST_RECOVERY, STARTED, RELOCATED]];
Caused by: [index][[index][4]] IllegalIndexShardStateException[CurrentState[RECOVERING] operations only allowed when shard state is one of [POST_RECOVERY, STARTED, RELOCATED]]
	at org.elasticsearch.index.shard.IndexShard.readAllowed(IndexShard.java:1035)
	at org.elasticsearch.index.shard.IndexShard.acquireSearcher(IndexShard.java:848)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:643)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
[2016-08-31 10:28:40,488][WARN ][rest.suppressed          ] path: /index/fulltext/_search, params: {index=index, type=fulltext, pretty=}
Failed to execute phase [query], all shards failed
	at org.elasticsearch.action.search.AbstractSearchAsyncAction.onFirstPhaseResult(AbstractSearchAsyncAction.java:206)
	at org.elasticsearch.action.search.AbstractSearchAsyncAction$1.onFailure(AbstractSearchAsyncAction.java:152)
	at org.elasticsearch.action.ActionListenerResponseHandler.handleException(ActionListenerResponseHandler.java:46)
	at org.elasticsearch.transport.TransportService$DirectResponseChannel.processException(TransportService.java:855)
	at org.elasticsearch.transport.TransportService$DirectResponseChannel.sendResponse(TransportService.java:833)
	at org.elasticsearch.transport.TransportService$4.onFailure(TransportService.java:387)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:39)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
[2016-08-31 10:28:40,668][INFO ][cluster.routing.allocation] [Aftershock] Cluster health status changed from [RED] to [YELLOW] (reason: [shards started [[index][2]] ...]).
[2016-08-31 10:28:56,097][DEBUG][action.search            ] [Aftershock] [index][1], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=w3lzbH5lQ66oXr8IMuqddQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@756cf002] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value",
            "lang":"groovy"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[No function with the name [match] is registered.];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value",
            "lang":"groovy"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[No function with the name [match] is registered.];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[No function with the name [match] is registered.]
	at org.elasticsearch.index.query.functionscore.ScoreFunctionParserMapper.get(ScoreFunctionParserMapper.java:62)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:140)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
[2016-08-31 10:28:56,148][DEBUG][action.search            ] [Aftershock] [index][2], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=kHlazsLdRUyXpQxG3FFdVA]: Failed to execute [org.elasticsearch.action.search.SearchRequest@756cf002]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value",
            "lang":"groovy"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[No function with the name [match] is registered.];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value",
            "lang":"groovy"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[No function with the name [match] is registered.];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[No function with the name [match] is registered.]
	at org.elasticsearch.index.query.functionscore.ScoreFunctionParserMapper.get(ScoreFunctionParserMapper.java:62)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:140)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
[2016-08-31 10:28:56,148][DEBUG][action.search            ] [Aftershock] [index][0], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=8XPAcFyOTkmStYA9W37jXg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@756cf002] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value",
            "lang":"groovy"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[No function with the name [match] is registered.];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value",
            "lang":"groovy"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[No function with the name [match] is registered.];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[No function with the name [match] is registered.]
	at org.elasticsearch.index.query.functionscore.ScoreFunctionParserMapper.get(ScoreFunctionParserMapper.java:62)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:140)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
[2016-08-31 10:28:56,148][DEBUG][action.search            ] [Aftershock] [index][4], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=qOru8NPKSI2unLe_wAn0fg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@756cf002] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value",
            "lang":"groovy"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[No function with the name [match] is registered.];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value",
            "lang":"groovy"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[No function with the name [match] is registered.];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[No function with the name [match] is registered.]
	at org.elasticsearch.index.query.functionscore.ScoreFunctionParserMapper.get(ScoreFunctionParserMapper.java:62)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:140)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
[2016-08-31 10:28:56,148][DEBUG][action.search            ] [Aftershock] [index][3], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=nhuzkxrnSfSo9t-acSt0dg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@756cf002] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value",
            "lang":"groovy"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[No function with the name [match] is registered.];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value",
            "lang":"groovy"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[No function with the name [match] is registered.];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[No function with the name [match] is registered.]
	at org.elasticsearch.index.query.functionscore.ScoreFunctionParserMapper.get(ScoreFunctionParserMapper.java:62)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:140)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
[2016-08-31 10:28:56,150][DEBUG][action.search            ] [Aftershock] All shards failed for phase: [query]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value",
            "lang":"groovy"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[No function with the name [match] is registered.];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value",
            "lang":"groovy"
          }
        }
      ],
      "match": {
      "content": "RIPA裂解液"
       }
    }
  }
}]]; nested: QueryParsingException[No function with the name [match] is registered.];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[No function with the name [match] is registered.]
	at org.elasticsearch.index.query.functionscore.ScoreFunctionParserMapper.get(ScoreFunctionParserMapper.java:62)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:140)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
[2016-08-31 10:29:50,188][DEBUG][action.search            ] [Aftershock] [index][4], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=qOru8NPKSI2unLe_wAn0fg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@78049c28] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at fb015793b16d35c0bbe04a1fb992d246078c5868.run(fb015793b16d35c0bbe04a1fb992d246078c5868:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:29:50,188][DEBUG][action.search            ] [Aftershock] [index][2], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=kHlazsLdRUyXpQxG3FFdVA]: Failed to execute [org.elasticsearch.action.search.SearchRequest@78049c28] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at fb015793b16d35c0bbe04a1fb992d246078c5868.run(fb015793b16d35c0bbe04a1fb992d246078c5868:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:29:50,193][DEBUG][action.search            ] [Aftershock] [index][0], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=8XPAcFyOTkmStYA9W37jXg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@78049c28]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at org.codehaus.groovy.vmplugin.v7.IndyInterface.selectMethod(IndyInterface.java:228)
	at fb015793b16d35c0bbe04a1fb992d246078c5868.run(fb015793b16d35c0bbe04a1fb992d246078c5868:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:29:50,192][DEBUG][action.search            ] [Aftershock] [index][1], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=w3lzbH5lQ66oXr8IMuqddQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@78049c28] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at fb015793b16d35c0bbe04a1fb992d246078c5868.run(fb015793b16d35c0bbe04a1fb992d246078c5868:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:29:50,190][DEBUG][action.search            ] [Aftershock] [index][3], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=nhuzkxrnSfSo9t-acSt0dg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@78049c28] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at fb015793b16d35c0bbe04a1fb992d246078c5868.run(fb015793b16d35c0bbe04a1fb992d246078c5868:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:29:50,195][DEBUG][action.search            ] [Aftershock] All shards failed for phase: [query]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at org.codehaus.groovy.vmplugin.v7.IndyInterface.selectMethod(IndyInterface.java:228)
	at fb015793b16d35c0bbe04a1fb992d246078c5868.run(fb015793b16d35c0bbe04a1fb992d246078c5868:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:29:50,203][WARN ][rest.suppressed          ] path: /index/fulltext/_search, params: {index=index, type=fulltext, pretty=}
Failed to execute phase [query], all shards failed; shardFailures {[l7uDRLNjTS6hkH4mg3bCbw][index][0]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868]; }{[l7uDRLNjTS6hkH4mg3bCbw][index][1]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868]; }{[l7uDRLNjTS6hkH4mg3bCbw][index][2]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868]; }{[l7uDRLNjTS6hkH4mg3bCbw][index][3]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868]; }{[l7uDRLNjTS6hkH4mg3bCbw][index][4]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868]; }
	at org.elasticsearch.action.search.AbstractSearchAsyncAction.onFirstPhaseResult(AbstractSearchAsyncAction.java:206)
	at org.elasticsearch.action.search.AbstractSearchAsyncAction$1.onFailure(AbstractSearchAsyncAction.java:152)
	at org.elasticsearch.action.ActionListenerResponseHandler.handleException(ActionListenerResponseHandler.java:46)
	at org.elasticsearch.transport.TransportService$DirectResponseChannel.processException(TransportService.java:855)
	at org.elasticsearch.transport.TransportService$DirectResponseChannel.sendResponse(TransportService.java:833)
	at org.elasticsearch.transport.TransportService$4.onFailure(TransportService.java:387)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:39)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	... 3 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at org.codehaus.groovy.vmplugin.v7.IndyInterface.selectMethod(IndyInterface.java:228)
	at fb015793b16d35c0bbe04a1fb992d246078c5868.run(fb015793b16d35c0bbe04a1fb992d246078c5868:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:31:16,927][DEBUG][action.search            ] [Aftershock] [index][0], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=8XPAcFyOTkmStYA9W37jXg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@7a6f162d] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at fb015793b16d35c0bbe04a1fb992d246078c5868.run(fb015793b16d35c0bbe04a1fb992d246078c5868:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:31:16,931][DEBUG][action.search            ] [Aftershock] [index][4], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=qOru8NPKSI2unLe_wAn0fg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@7a6f162d] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at fb015793b16d35c0bbe04a1fb992d246078c5868.run(fb015793b16d35c0bbe04a1fb992d246078c5868:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:31:16,929][DEBUG][action.search            ] [Aftershock] [index][2], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=kHlazsLdRUyXpQxG3FFdVA]: Failed to execute [org.elasticsearch.action.search.SearchRequest@7a6f162d] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at fb015793b16d35c0bbe04a1fb992d246078c5868.run(fb015793b16d35c0bbe04a1fb992d246078c5868:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:31:16,937][DEBUG][action.search            ] [Aftershock] [index][1], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=w3lzbH5lQ66oXr8IMuqddQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@7a6f162d]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at fb015793b16d35c0bbe04a1fb992d246078c5868.run(fb015793b16d35c0bbe04a1fb992d246078c5868:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:31:16,942][DEBUG][action.search            ] [Aftershock] All shards failed for phase: [query]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at fb015793b16d35c0bbe04a1fb992d246078c5868.run(fb015793b16d35c0bbe04a1fb992d246078c5868:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:31:16,935][DEBUG][action.search            ] [Aftershock] [index][3], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=nhuzkxrnSfSo9t-acSt0dg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@7a6f162d] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at fb015793b16d35c0bbe04a1fb992d246078c5868.run(fb015793b16d35c0bbe04a1fb992d246078c5868:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:31:16,944][WARN ][rest.suppressed          ] path: /index/fulltext/_search, params: {index=index, type=fulltext, pretty=}
Failed to execute phase [query], all shards failed; shardFailures {[l7uDRLNjTS6hkH4mg3bCbw][index][0]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868]; }{[l7uDRLNjTS6hkH4mg3bCbw][index][1]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868]; }{[l7uDRLNjTS6hkH4mg3bCbw][index][2]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868]; }{[l7uDRLNjTS6hkH4mg3bCbw][index][3]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868]; }{[l7uDRLNjTS6hkH4mg3bCbw][index][4]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868]; }
	at org.elasticsearch.action.search.AbstractSearchAsyncAction.onFirstPhaseResult(AbstractSearchAsyncAction.java:206)
	at org.elasticsearch.action.search.AbstractSearchAsyncAction$1.onFailure(AbstractSearchAsyncAction.java:152)
	at org.elasticsearch.action.ActionListenerResponseHandler.handleException(ActionListenerResponseHandler.java:46)
	at org.elasticsearch.transport.TransportService$DirectResponseChannel.processException(TransportService.java:855)
	at org.elasticsearch.transport.TransportService$DirectResponseChannel.sendResponse(TransportService.java:833)
	at org.elasticsearch.transport.TransportService$4.onFailure(TransportService.java:387)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:39)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	... 3 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at fb015793b16d35c0bbe04a1fb992d246078c5868.run(fb015793b16d35c0bbe04a1fb992d246078c5868:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:32:57,507][DEBUG][action.search            ] [Aftershock] [index][1], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=w3lzbH5lQ66oXr8IMuqddQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@48ee6743] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value","lang":"lang"
          }
        }
      ]
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value","lang":"lang"
          }
        }
      ]
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: java.lang.IllegalArgumentException: script_lang not supported [lang]
	at org.elasticsearch.script.ScriptService.getScriptEngineServiceForLang(ScriptService.java:212)
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:242)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:32:57,508][DEBUG][action.search            ] [Aftershock] [index][3], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=nhuzkxrnSfSo9t-acSt0dg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@48ee6743] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value","lang":"lang"
          }
        }
      ]
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value","lang":"lang"
          }
        }
      ]
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: java.lang.IllegalArgumentException: script_lang not supported [lang]
	at org.elasticsearch.script.ScriptService.getScriptEngineServiceForLang(ScriptService.java:212)
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:242)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:32:57,509][DEBUG][action.search            ] [Aftershock] [index][4], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=qOru8NPKSI2unLe_wAn0fg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@48ee6743]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value","lang":"lang"
          }
        }
      ]
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value","lang":"lang"
          }
        }
      ]
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: java.lang.IllegalArgumentException: script_lang not supported [lang]
	at org.elasticsearch.script.ScriptService.getScriptEngineServiceForLang(ScriptService.java:212)
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:242)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:32:57,508][DEBUG][action.search            ] [Aftershock] [index][0], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=8XPAcFyOTkmStYA9W37jXg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@48ee6743] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value","lang":"lang"
          }
        }
      ]
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value","lang":"lang"
          }
        }
      ]
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: java.lang.IllegalArgumentException: script_lang not supported [lang]
	at org.elasticsearch.script.ScriptService.getScriptEngineServiceForLang(ScriptService.java:212)
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:242)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:32:57,508][DEBUG][action.search            ] [Aftershock] [index][2], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=kHlazsLdRUyXpQxG3FFdVA]: Failed to execute [org.elasticsearch.action.search.SearchRequest@48ee6743] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value","lang":"lang"
          }
        }
      ]
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value","lang":"lang"
          }
        }
      ]
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: java.lang.IllegalArgumentException: script_lang not supported [lang]
	at org.elasticsearch.script.ScriptService.getScriptEngineServiceForLang(ScriptService.java:212)
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:242)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:32:57,518][DEBUG][action.search            ] [Aftershock] All shards failed for phase: [query]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value","lang":"lang"
          }
        }
      ]
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value","lang":"lang"
          }
        }
      ]
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: java.lang.IllegalArgumentException: script_lang not supported [lang]
	at org.elasticsearch.script.ScriptService.getScriptEngineServiceForLang(ScriptService.java:212)
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:242)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:36:44,998][DEBUG][action.search            ] [Aftershock] [index][1], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=w3lzbH5lQ66oXr8IMuqddQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@460546bc] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value","lang":"lang"
          }
        }
      ]
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value","lang":"lang"
          }
        }
      ]
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: java.lang.IllegalArgumentException: script_lang not supported [lang]
	at org.elasticsearch.script.ScriptService.getScriptEngineServiceForLang(ScriptService.java:212)
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:242)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:36:44,999][DEBUG][action.search            ] [Aftershock] [index][4], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=qOru8NPKSI2unLe_wAn0fg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@460546bc]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value","lang":"lang"
          }
        }
      ]
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value","lang":"lang"
          }
        }
      ]
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: java.lang.IllegalArgumentException: script_lang not supported [lang]
	at org.elasticsearch.script.ScriptService.getScriptEngineServiceForLang(ScriptService.java:212)
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:242)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:36:44,999][DEBUG][action.search            ] [Aftershock] [index][3], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=nhuzkxrnSfSo9t-acSt0dg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@460546bc] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value","lang":"lang"
          }
        }
      ]
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value","lang":"lang"
          }
        }
      ]
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: java.lang.IllegalArgumentException: script_lang not supported [lang]
	at org.elasticsearch.script.ScriptService.getScriptEngineServiceForLang(ScriptService.java:212)
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:242)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:36:44,998][DEBUG][action.search            ] [Aftershock] [index][0], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=8XPAcFyOTkmStYA9W37jXg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@460546bc] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value","lang":"lang"
          }
        }
      ]
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value","lang":"lang"
          }
        }
      ]
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: java.lang.IllegalArgumentException: script_lang not supported [lang]
	at org.elasticsearch.script.ScriptService.getScriptEngineServiceForLang(ScriptService.java:212)
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:242)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:36:44,998][DEBUG][action.search            ] [Aftershock] [index][2], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=kHlazsLdRUyXpQxG3FFdVA]: Failed to execute [org.elasticsearch.action.search.SearchRequest@460546bc] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value","lang":"lang"
          }
        }
      ]
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value","lang":"lang"
          }
        }
      ]
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: java.lang.IllegalArgumentException: script_lang not supported [lang]
	at org.elasticsearch.script.ScriptService.getScriptEngineServiceForLang(ScriptService.java:212)
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:242)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:36:45,005][DEBUG][action.search            ] [Aftershock] All shards failed for phase: [query]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value","lang":"lang"
          }
        }
      ]
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
            "script": "_score * doc[rank].value","lang":"lang"
          }
        }
      ]
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: IllegalArgumentException[script_lang not supported [lang]];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: java.lang.IllegalArgumentException: script_lang not supported [lang]
	at org.elasticsearch.script.ScriptService.getScriptEngineServiceForLang(ScriptService.java:212)
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:242)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
[2016-08-31 10:37:02,901][DEBUG][action.search            ] [Aftershock] [index][3], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=nhuzkxrnSfSo9t-acSt0dg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@183276fa] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at fb015793b16d35c0bbe04a1fb992d246078c5868.run(fb015793b16d35c0bbe04a1fb992d246078c5868:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:37:02,903][DEBUG][action.search            ] [Aftershock] [index][1], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=w3lzbH5lQ66oXr8IMuqddQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@183276fa] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at fb015793b16d35c0bbe04a1fb992d246078c5868.run(fb015793b16d35c0bbe04a1fb992d246078c5868:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:37:02,910][DEBUG][action.search            ] [Aftershock] [index][4], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=qOru8NPKSI2unLe_wAn0fg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@183276fa]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at fb015793b16d35c0bbe04a1fb992d246078c5868.run(fb015793b16d35c0bbe04a1fb992d246078c5868:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:37:02,907][DEBUG][action.search            ] [Aftershock] [index][0], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=8XPAcFyOTkmStYA9W37jXg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@183276fa] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at fb015793b16d35c0bbe04a1fb992d246078c5868.run(fb015793b16d35c0bbe04a1fb992d246078c5868:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:37:02,907][DEBUG][action.search            ] [Aftershock] [index][2], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=kHlazsLdRUyXpQxG3FFdVA]: Failed to execute [org.elasticsearch.action.search.SearchRequest@183276fa] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at fb015793b16d35c0bbe04a1fb992d246078c5868.run(fb015793b16d35c0bbe04a1fb992d246078c5868:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:37:02,914][DEBUG][action.search            ] [Aftershock] All shards failed for phase: [query]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at fb015793b16d35c0bbe04a1fb992d246078c5868.run(fb015793b16d35c0bbe04a1fb992d246078c5868:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:37:02,926][WARN ][rest.suppressed          ] path: /index/fulltext/_search, params: {index=index, type=fulltext, pretty=}
Failed to execute phase [query], all shards failed; shardFailures {[l7uDRLNjTS6hkH4mg3bCbw][index][0]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868]; }{[l7uDRLNjTS6hkH4mg3bCbw][index][1]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868]; }{[l7uDRLNjTS6hkH4mg3bCbw][index][2]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868]; }{[l7uDRLNjTS6hkH4mg3bCbw][index][3]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868]; }{[l7uDRLNjTS6hkH4mg3bCbw][index][4]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868]; }
	at org.elasticsearch.action.search.AbstractSearchAsyncAction.onFirstPhaseResult(AbstractSearchAsyncAction.java:206)
	at org.elasticsearch.action.search.AbstractSearchAsyncAction$1.onFailure(AbstractSearchAsyncAction.java:152)
	at org.elasticsearch.action.ActionListenerResponseHandler.handleException(ActionListenerResponseHandler.java:46)
	at org.elasticsearch.transport.TransportService$DirectResponseChannel.processException(TransportService.java:855)
	at org.elasticsearch.transport.TransportService$DirectResponseChannel.sendResponse(TransportService.java:833)
	at org.elasticsearch.transport.TransportService$4.onFailure(TransportService.java:387)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:39)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	... 3 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at fb015793b16d35c0bbe04a1fb992d246078c5868.run(fb015793b16d35c0bbe04a1fb992d246078c5868:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:39:23,240][DEBUG][action.search            ] [Aftershock] [index][0], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=8XPAcFyOTkmStYA9W37jXg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@2bb1ba33] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at org.codehaus.groovy.vmplugin.v7.IndyInterface.selectMethod(IndyInterface.java:228)
	at 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5.run(841ae98c31e204b82bbacdf261a4c0fa95eb9ae5:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:39:23,314][DEBUG][action.search            ] [Aftershock] [index][2], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=kHlazsLdRUyXpQxG3FFdVA]: Failed to execute [org.elasticsearch.action.search.SearchRequest@2bb1ba33] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at org.codehaus.groovy.vmplugin.v7.IndyInterface.selectMethod(IndyInterface.java:228)
	at 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5.run(841ae98c31e204b82bbacdf261a4c0fa95eb9ae5:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:39:23,331][DEBUG][action.search            ] [Aftershock] [index][1], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=w3lzbH5lQ66oXr8IMuqddQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@2bb1ba33] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at org.codehaus.groovy.vmplugin.v7.IndyInterface.selectMethod(IndyInterface.java:228)
	at 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5.run(841ae98c31e204b82bbacdf261a4c0fa95eb9ae5:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:39:23,331][DEBUG][action.search            ] [Aftershock] [index][4], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=qOru8NPKSI2unLe_wAn0fg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@2bb1ba33] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at org.codehaus.groovy.vmplugin.v7.IndyInterface.selectMethod(IndyInterface.java:228)
	at 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5.run(841ae98c31e204b82bbacdf261a4c0fa95eb9ae5:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:39:23,337][DEBUG][action.search            ] [Aftershock] [index][3], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=nhuzkxrnSfSo9t-acSt0dg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@2bb1ba33]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at org.codehaus.groovy.vmplugin.v7.IndyInterface.selectMethod(IndyInterface.java:228)
	at 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5.run(841ae98c31e204b82bbacdf261a4c0fa95eb9ae5:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:39:23,340][DEBUG][action.search            ] [Aftershock] All shards failed for phase: [query]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at org.codehaus.groovy.vmplugin.v7.IndyInterface.selectMethod(IndyInterface.java:228)
	at 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5.run(841ae98c31e204b82bbacdf261a4c0fa95eb9ae5:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:39:23,341][WARN ][rest.suppressed          ] path: /index/fulltext/_search, params: {index=index, type=fulltext, pretty=}
Failed to execute phase [query], all shards failed; shardFailures {[l7uDRLNjTS6hkH4mg3bCbw][index][0]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5]; }{[l7uDRLNjTS6hkH4mg3bCbw][index][1]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5]; }{[l7uDRLNjTS6hkH4mg3bCbw][index][2]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5]; }{[l7uDRLNjTS6hkH4mg3bCbw][index][3]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5]; }{[l7uDRLNjTS6hkH4mg3bCbw][index][4]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5]; }
	at org.elasticsearch.action.search.AbstractSearchAsyncAction.onFirstPhaseResult(AbstractSearchAsyncAction.java:206)
	at org.elasticsearch.action.search.AbstractSearchAsyncAction$1.onFailure(AbstractSearchAsyncAction.java:152)
	at org.elasticsearch.action.ActionListenerResponseHandler.handleException(ActionListenerResponseHandler.java:46)
	at org.elasticsearch.transport.TransportService$DirectResponseChannel.processException(TransportService.java:855)
	at org.elasticsearch.transport.TransportService$DirectResponseChannel.sendResponse(TransportService.java:833)
	at org.elasticsearch.transport.TransportService$4.onFailure(TransportService.java:387)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:39)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	... 3 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at org.codehaus.groovy.vmplugin.v7.IndyInterface.selectMethod(IndyInterface.java:228)
	at 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5.run(841ae98c31e204b82bbacdf261a4c0fa95eb9ae5:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:42:43,721][DEBUG][action.search            ] [Aftershock] [index][0], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=8XPAcFyOTkmStYA9W37jXg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@346e5558] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5.run(841ae98c31e204b82bbacdf261a4c0fa95eb9ae5:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:42:43,725][DEBUG][action.search            ] [Aftershock] [index][4], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=qOru8NPKSI2unLe_wAn0fg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@346e5558] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5.run(841ae98c31e204b82bbacdf261a4c0fa95eb9ae5:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:42:43,729][DEBUG][action.search            ] [Aftershock] [index][2], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=kHlazsLdRUyXpQxG3FFdVA]: Failed to execute [org.elasticsearch.action.search.SearchRequest@346e5558] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5.run(841ae98c31e204b82bbacdf261a4c0fa95eb9ae5:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:42:43,728][DEBUG][action.search            ] [Aftershock] [index][3], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=nhuzkxrnSfSo9t-acSt0dg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@346e5558] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5.run(841ae98c31e204b82bbacdf261a4c0fa95eb9ae5:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:42:43,730][DEBUG][action.search            ] [Aftershock] [index][1], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=w3lzbH5lQ66oXr8IMuqddQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@346e5558]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5.run(841ae98c31e204b82bbacdf261a4c0fa95eb9ae5:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:42:43,738][DEBUG][action.search            ] [Aftershock] All shards failed for phase: [query]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5.run(841ae98c31e204b82bbacdf261a4c0fa95eb9ae5:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:42:43,740][WARN ][rest.suppressed          ] path: /index/fulltext/_search, params: {index=index, type=fulltext, pretty=}
Failed to execute phase [query], all shards failed; shardFailures {[l7uDRLNjTS6hkH4mg3bCbw][index][0]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5]; }{[l7uDRLNjTS6hkH4mg3bCbw][index][1]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5]; }{[l7uDRLNjTS6hkH4mg3bCbw][index][2]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5]; }{[l7uDRLNjTS6hkH4mg3bCbw][index][3]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5]; }{[l7uDRLNjTS6hkH4mg3bCbw][index][4]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5]; }
	at org.elasticsearch.action.search.AbstractSearchAsyncAction.onFirstPhaseResult(AbstractSearchAsyncAction.java:206)
	at org.elasticsearch.action.search.AbstractSearchAsyncAction$1.onFailure(AbstractSearchAsyncAction.java:152)
	at org.elasticsearch.action.ActionListenerResponseHandler.handleException(ActionListenerResponseHandler.java:46)
	at org.elasticsearch.transport.TransportService$DirectResponseChannel.processException(TransportService.java:855)
	at org.elasticsearch.transport.TransportService$DirectResponseChannel.sendResponse(TransportService.java:833)
	at org.elasticsearch.transport.TransportService$4.onFailure(TransportService.java:387)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:39)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * 1*rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	... 3 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at 841ae98c31e204b82bbacdf261a4c0fa95eb9ae5.run(841ae98c31e204b82bbacdf261a4c0fa95eb9ae5:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:45:35,742][DEBUG][action.search            ] [Aftershock] [index][1], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=w3lzbH5lQ66oXr8IMuqddQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@2a7dd923] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*rank"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Error during search with inline script [_score * 1*rank] using lang [expression]]; nested: ScriptException[Unknown variable [rank] in expression];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*rank"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Error during search with inline script [_score * 1*rank] using lang [expression]]; nested: ScriptException[Unknown variable [rank] in expression];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Error during search with inline script [_score * 1*rank] using lang [expression]]; nested: ScriptException[Unknown variable [rank] in expression];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[Error during search with inline script [_score * 1*rank] using lang [expression]]; nested: ScriptException[Unknown variable [rank] in expression];
	at org.elasticsearch.script.expression.ExpressionScriptEngineService.search(ExpressionScriptEngineService.java:209)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:457)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
Caused by: ScriptException[Unknown variable [rank] in expression]
	at org.elasticsearch.script.expression.ExpressionScriptEngineService.search(ExpressionScriptEngineService.java:169)
	... 22 more
[2016-08-31 10:45:35,744][DEBUG][action.search            ] [Aftershock] [index][3], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=nhuzkxrnSfSo9t-acSt0dg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@2a7dd923] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*rank"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Error during search with inline script [_score * 1*rank] using lang [expression]]; nested: ScriptException[Unknown variable [rank] in expression];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*rank"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Error during search with inline script [_score * 1*rank] using lang [expression]]; nested: ScriptException[Unknown variable [rank] in expression];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Error during search with inline script [_score * 1*rank] using lang [expression]]; nested: ScriptException[Unknown variable [rank] in expression];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[Error during search with inline script [_score * 1*rank] using lang [expression]]; nested: ScriptException[Unknown variable [rank] in expression];
	at org.elasticsearch.script.expression.ExpressionScriptEngineService.search(ExpressionScriptEngineService.java:209)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:457)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
Caused by: ScriptException[Unknown variable [rank] in expression]
	at org.elasticsearch.script.expression.ExpressionScriptEngineService.search(ExpressionScriptEngineService.java:169)
	... 22 more
[2016-08-31 10:45:35,742][DEBUG][action.search            ] [Aftershock] [index][4], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=qOru8NPKSI2unLe_wAn0fg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@2a7dd923]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*rank"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Error during search with inline script [_score * 1*rank] using lang [expression]]; nested: ScriptException[Unknown variable [rank] in expression];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*rank"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Error during search with inline script [_score * 1*rank] using lang [expression]]; nested: ScriptException[Unknown variable [rank] in expression];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Error during search with inline script [_score * 1*rank] using lang [expression]]; nested: ScriptException[Unknown variable [rank] in expression];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[Error during search with inline script [_score * 1*rank] using lang [expression]]; nested: ScriptException[Unknown variable [rank] in expression];
	at org.elasticsearch.script.expression.ExpressionScriptEngineService.search(ExpressionScriptEngineService.java:209)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:457)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
Caused by: ScriptException[Unknown variable [rank] in expression]
	at org.elasticsearch.script.expression.ExpressionScriptEngineService.search(ExpressionScriptEngineService.java:169)
	... 22 more
[2016-08-31 10:45:35,747][DEBUG][action.search            ] [Aftershock] All shards failed for phase: [query]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*rank"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Error during search with inline script [_score * 1*rank] using lang [expression]]; nested: ScriptException[Unknown variable [rank] in expression];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*rank"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Error during search with inline script [_score * 1*rank] using lang [expression]]; nested: ScriptException[Unknown variable [rank] in expression];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Error during search with inline script [_score * 1*rank] using lang [expression]]; nested: ScriptException[Unknown variable [rank] in expression];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[Error during search with inline script [_score * 1*rank] using lang [expression]]; nested: ScriptException[Unknown variable [rank] in expression];
	at org.elasticsearch.script.expression.ExpressionScriptEngineService.search(ExpressionScriptEngineService.java:209)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:457)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
Caused by: ScriptException[Unknown variable [rank] in expression]
	at org.elasticsearch.script.expression.ExpressionScriptEngineService.search(ExpressionScriptEngineService.java:169)
	... 22 more
[2016-08-31 10:45:35,742][DEBUG][action.search            ] [Aftershock] [index][2], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=kHlazsLdRUyXpQxG3FFdVA]: Failed to execute [org.elasticsearch.action.search.SearchRequest@2a7dd923] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*rank"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Error during search with inline script [_score * 1*rank] using lang [expression]]; nested: ScriptException[Unknown variable [rank] in expression];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*rank"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Error during search with inline script [_score * 1*rank] using lang [expression]]; nested: ScriptException[Unknown variable [rank] in expression];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Error during search with inline script [_score * 1*rank] using lang [expression]]; nested: ScriptException[Unknown variable [rank] in expression];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[Error during search with inline script [_score * 1*rank] using lang [expression]]; nested: ScriptException[Unknown variable [rank] in expression];
	at org.elasticsearch.script.expression.ExpressionScriptEngineService.search(ExpressionScriptEngineService.java:209)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:457)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
Caused by: ScriptException[Unknown variable [rank] in expression]
	at org.elasticsearch.script.expression.ExpressionScriptEngineService.search(ExpressionScriptEngineService.java:169)
	... 22 more
[2016-08-31 10:45:35,742][DEBUG][action.search            ] [Aftershock] [index][0], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=8XPAcFyOTkmStYA9W37jXg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@2a7dd923] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*rank"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Error during search with inline script [_score * 1*rank] using lang [expression]]; nested: ScriptException[Unknown variable [rank] in expression];
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*rank"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Error during search with inline script [_score * 1*rank] using lang [expression]]; nested: ScriptException[Unknown variable [rank] in expression];
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Error during search with inline script [_score * 1*rank] using lang [expression]]; nested: ScriptException[Unknown variable [rank] in expression];
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[Error during search with inline script [_score * 1*rank] using lang [expression]]; nested: ScriptException[Unknown variable [rank] in expression];
	at org.elasticsearch.script.expression.ExpressionScriptEngineService.search(ExpressionScriptEngineService.java:209)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:457)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
Caused by: ScriptException[Unknown variable [rank] in expression]
	at org.elasticsearch.script.expression.ExpressionScriptEngineService.search(ExpressionScriptEngineService.java:169)
	... 22 more
[2016-08-31 10:45:57,973][DEBUG][action.search            ] [Aftershock] [index][1], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=w3lzbH5lQ66oXr8IMuqddQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@48eca7cd] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*doc[rank]"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank]] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank]]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*doc[rank]"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank]] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank]]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank]] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank]]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[Failed to compile inline script [_score * 1*doc[rank]] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank]]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.script.ScriptService.compileInternal(ScriptService.java:313)
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:257)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
Caused by: ScriptException[Failed to parse expression: _score * 1*doc[rank]]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:127)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:104)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService.compile(ExpressionScriptEngineService.java:104)
	at org.elasticsearch.script.ScriptService.compileInternal(ScriptService.java:311)
	... 23 more
Caused by: java.text.ParseException: unexpected character '[' on line (1) position (14)
	at org.apache.lucene.expressions.js.JavascriptErrorHandlingLexer.recover(JavascriptErrorHandlingLexer.java:48)
	at org.antlr.v4.runtime.Lexer.nextToken(Lexer.java:169)
	at org.antlr.v4.runtime.BufferedTokenStream.fetch(BufferedTokenStream.java:185)
	at org.antlr.v4.runtime.BufferedTokenStream.sync(BufferedTokenStream.java:168)
	at org.antlr.v4.runtime.BufferedTokenStream.consume(BufferedTokenStream.java:152)
	at org.antlr.v4.runtime.Parser.consume(Parser.java:593)
	at org.antlr.v4.runtime.Parser.match(Parser.java:226)
	at org.apache.lucene.expressions.js.JavascriptParser.expression(JavascriptParser.java:449)
	at org.apache.lucene.expressions.js.JavascriptParser.expression(JavascriptParser.java:516)
	at org.apache.lucene.expressions.js.JavascriptParser.compile(JavascriptParser.java:113)
	at org.apache.lucene.expressions.js.JavascriptCompiler.getAntlrParseTree(JavascriptCompiler.java:219)
	at org.apache.lucene.expressions.js.JavascriptCompiler.compileExpression(JavascriptCompiler.java:192)
	at org.apache.lucene.expressions.js.JavascriptCompiler.compile(JavascriptCompiler.java:148)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:125)
	... 27 more
Caused by: LexerNoViableAltException('[')
	at org.antlr.v4.runtime.atn.LexerATNSimulator.failOrAccept(LexerATNSimulator.java:336)
	at org.antlr.v4.runtime.atn.LexerATNSimulator.execATN(LexerATNSimulator.java:257)
	at org.antlr.v4.runtime.atn.LexerATNSimulator.match(LexerATNSimulator.java:141)
	at org.antlr.v4.runtime.Lexer.nextToken(Lexer.java:165)
	... 39 more
[2016-08-31 10:45:57,974][DEBUG][action.search            ] [Aftershock] [index][3], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=nhuzkxrnSfSo9t-acSt0dg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@48eca7cd]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*doc[rank]"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank]] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank]]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*doc[rank]"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank]] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank]]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank]] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank]]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[Failed to compile inline script [_score * 1*doc[rank]] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank]]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.script.ScriptService.compileInternal(ScriptService.java:313)
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:257)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
Caused by: ScriptException[Failed to parse expression: _score * 1*doc[rank]]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:127)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:104)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService.compile(ExpressionScriptEngineService.java:104)
	at org.elasticsearch.script.ScriptService.compileInternal(ScriptService.java:311)
	... 23 more
Caused by: java.text.ParseException: unexpected character '[' on line (1) position (14)
	at org.apache.lucene.expressions.js.JavascriptErrorHandlingLexer.recover(JavascriptErrorHandlingLexer.java:48)
	at org.antlr.v4.runtime.Lexer.nextToken(Lexer.java:169)
	at org.antlr.v4.runtime.BufferedTokenStream.fetch(BufferedTokenStream.java:185)
	at org.antlr.v4.runtime.BufferedTokenStream.sync(BufferedTokenStream.java:168)
	at org.antlr.v4.runtime.BufferedTokenStream.consume(BufferedTokenStream.java:152)
	at org.antlr.v4.runtime.Parser.consume(Parser.java:593)
	at org.antlr.v4.runtime.Parser.match(Parser.java:226)
	at org.apache.lucene.expressions.js.JavascriptParser.expression(JavascriptParser.java:449)
	at org.apache.lucene.expressions.js.JavascriptParser.expression(JavascriptParser.java:516)
	at org.apache.lucene.expressions.js.JavascriptParser.compile(JavascriptParser.java:113)
	at org.apache.lucene.expressions.js.JavascriptCompiler.getAntlrParseTree(JavascriptCompiler.java:219)
	at org.apache.lucene.expressions.js.JavascriptCompiler.compileExpression(JavascriptCompiler.java:192)
	at org.apache.lucene.expressions.js.JavascriptCompiler.compile(JavascriptCompiler.java:148)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:125)
	... 27 more
Caused by: LexerNoViableAltException('[')
	at org.antlr.v4.runtime.atn.LexerATNSimulator.failOrAccept(LexerATNSimulator.java:336)
	at org.antlr.v4.runtime.atn.LexerATNSimulator.execATN(LexerATNSimulator.java:257)
	at org.antlr.v4.runtime.atn.LexerATNSimulator.match(LexerATNSimulator.java:141)
	at org.antlr.v4.runtime.Lexer.nextToken(Lexer.java:165)
	... 39 more
[2016-08-31 10:45:57,974][DEBUG][action.search            ] [Aftershock] [index][0], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=8XPAcFyOTkmStYA9W37jXg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@48eca7cd] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*doc[rank]"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank]] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank]]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*doc[rank]"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank]] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank]]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank]] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank]]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[Failed to compile inline script [_score * 1*doc[rank]] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank]]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.script.ScriptService.compileInternal(ScriptService.java:313)
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:257)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
Caused by: ScriptException[Failed to parse expression: _score * 1*doc[rank]]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:127)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:104)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService.compile(ExpressionScriptEngineService.java:104)
	at org.elasticsearch.script.ScriptService.compileInternal(ScriptService.java:311)
	... 23 more
Caused by: java.text.ParseException: unexpected character '[' on line (1) position (14)
	at org.apache.lucene.expressions.js.JavascriptErrorHandlingLexer.recover(JavascriptErrorHandlingLexer.java:48)
	at org.antlr.v4.runtime.Lexer.nextToken(Lexer.java:169)
	at org.antlr.v4.runtime.BufferedTokenStream.fetch(BufferedTokenStream.java:185)
	at org.antlr.v4.runtime.BufferedTokenStream.sync(BufferedTokenStream.java:168)
	at org.antlr.v4.runtime.BufferedTokenStream.consume(BufferedTokenStream.java:152)
	at org.antlr.v4.runtime.Parser.consume(Parser.java:593)
	at org.antlr.v4.runtime.Parser.match(Parser.java:226)
	at org.apache.lucene.expressions.js.JavascriptParser.expression(JavascriptParser.java:449)
	at org.apache.lucene.expressions.js.JavascriptParser.expression(JavascriptParser.java:516)
	at org.apache.lucene.expressions.js.JavascriptParser.compile(JavascriptParser.java:113)
	at org.apache.lucene.expressions.js.JavascriptCompiler.getAntlrParseTree(JavascriptCompiler.java:219)
	at org.apache.lucene.expressions.js.JavascriptCompiler.compileExpression(JavascriptCompiler.java:192)
	at org.apache.lucene.expressions.js.JavascriptCompiler.compile(JavascriptCompiler.java:148)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:125)
	... 27 more
Caused by: LexerNoViableAltException('[')
	at org.antlr.v4.runtime.atn.LexerATNSimulator.failOrAccept(LexerATNSimulator.java:336)
	at org.antlr.v4.runtime.atn.LexerATNSimulator.execATN(LexerATNSimulator.java:257)
	at org.antlr.v4.runtime.atn.LexerATNSimulator.match(LexerATNSimulator.java:141)
	at org.antlr.v4.runtime.Lexer.nextToken(Lexer.java:165)
	... 39 more
[2016-08-31 10:45:57,973][DEBUG][action.search            ] [Aftershock] [index][2], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=kHlazsLdRUyXpQxG3FFdVA]: Failed to execute [org.elasticsearch.action.search.SearchRequest@48eca7cd] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*doc[rank]"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank]] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank]]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*doc[rank]"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank]] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank]]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank]] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank]]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[Failed to compile inline script [_score * 1*doc[rank]] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank]]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.script.ScriptService.compileInternal(ScriptService.java:313)
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:257)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
Caused by: ScriptException[Failed to parse expression: _score * 1*doc[rank]]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:127)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:104)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService.compile(ExpressionScriptEngineService.java:104)
	at org.elasticsearch.script.ScriptService.compileInternal(ScriptService.java:311)
	... 23 more
Caused by: java.text.ParseException: unexpected character '[' on line (1) position (14)
	at org.apache.lucene.expressions.js.JavascriptErrorHandlingLexer.recover(JavascriptErrorHandlingLexer.java:48)
	at org.antlr.v4.runtime.Lexer.nextToken(Lexer.java:169)
	at org.antlr.v4.runtime.BufferedTokenStream.fetch(BufferedTokenStream.java:185)
	at org.antlr.v4.runtime.BufferedTokenStream.sync(BufferedTokenStream.java:168)
	at org.antlr.v4.runtime.BufferedTokenStream.consume(BufferedTokenStream.java:152)
	at org.antlr.v4.runtime.Parser.consume(Parser.java:593)
	at org.antlr.v4.runtime.Parser.match(Parser.java:226)
	at org.apache.lucene.expressions.js.JavascriptParser.expression(JavascriptParser.java:449)
	at org.apache.lucene.expressions.js.JavascriptParser.expression(JavascriptParser.java:516)
	at org.apache.lucene.expressions.js.JavascriptParser.compile(JavascriptParser.java:113)
	at org.apache.lucene.expressions.js.JavascriptCompiler.getAntlrParseTree(JavascriptCompiler.java:219)
	at org.apache.lucene.expressions.js.JavascriptCompiler.compileExpression(JavascriptCompiler.java:192)
	at org.apache.lucene.expressions.js.JavascriptCompiler.compile(JavascriptCompiler.java:148)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:125)
	... 27 more
Caused by: LexerNoViableAltException('[')
	at org.antlr.v4.runtime.atn.LexerATNSimulator.failOrAccept(LexerATNSimulator.java:336)
	at org.antlr.v4.runtime.atn.LexerATNSimulator.execATN(LexerATNSimulator.java:257)
	at org.antlr.v4.runtime.atn.LexerATNSimulator.match(LexerATNSimulator.java:141)
	at org.antlr.v4.runtime.Lexer.nextToken(Lexer.java:165)
	... 39 more
[2016-08-31 10:45:57,973][DEBUG][action.search            ] [Aftershock] [index][4], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=qOru8NPKSI2unLe_wAn0fg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@48eca7cd] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*doc[rank]"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank]] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank]]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*doc[rank]"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank]] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank]]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank]] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank]]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[Failed to compile inline script [_score * 1*doc[rank]] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank]]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.script.ScriptService.compileInternal(ScriptService.java:313)
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:257)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
Caused by: ScriptException[Failed to parse expression: _score * 1*doc[rank]]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:127)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:104)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService.compile(ExpressionScriptEngineService.java:104)
	at org.elasticsearch.script.ScriptService.compileInternal(ScriptService.java:311)
	... 23 more
Caused by: java.text.ParseException: unexpected character '[' on line (1) position (14)
	at org.apache.lucene.expressions.js.JavascriptErrorHandlingLexer.recover(JavascriptErrorHandlingLexer.java:48)
	at org.antlr.v4.runtime.Lexer.nextToken(Lexer.java:169)
	at org.antlr.v4.runtime.BufferedTokenStream.fetch(BufferedTokenStream.java:185)
	at org.antlr.v4.runtime.BufferedTokenStream.sync(BufferedTokenStream.java:168)
	at org.antlr.v4.runtime.BufferedTokenStream.consume(BufferedTokenStream.java:152)
	at org.antlr.v4.runtime.Parser.consume(Parser.java:593)
	at org.antlr.v4.runtime.Parser.match(Parser.java:226)
	at org.apache.lucene.expressions.js.JavascriptParser.expression(JavascriptParser.java:449)
	at org.apache.lucene.expressions.js.JavascriptParser.expression(JavascriptParser.java:516)
	at org.apache.lucene.expressions.js.JavascriptParser.compile(JavascriptParser.java:113)
	at org.apache.lucene.expressions.js.JavascriptCompiler.getAntlrParseTree(JavascriptCompiler.java:219)
	at org.apache.lucene.expressions.js.JavascriptCompiler.compileExpression(JavascriptCompiler.java:192)
	at org.apache.lucene.expressions.js.JavascriptCompiler.compile(JavascriptCompiler.java:148)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:125)
	... 27 more
Caused by: LexerNoViableAltException('[')
	at org.antlr.v4.runtime.atn.LexerATNSimulator.failOrAccept(LexerATNSimulator.java:336)
	at org.antlr.v4.runtime.atn.LexerATNSimulator.execATN(LexerATNSimulator.java:257)
	at org.antlr.v4.runtime.atn.LexerATNSimulator.match(LexerATNSimulator.java:141)
	at org.antlr.v4.runtime.Lexer.nextToken(Lexer.java:165)
	... 39 more
[2016-08-31 10:45:57,981][DEBUG][action.search            ] [Aftershock] All shards failed for phase: [query]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*doc[rank]"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank]] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank]]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*doc[rank]"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank]] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank]]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank]] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank]]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[Failed to compile inline script [_score * 1*doc[rank]] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank]]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.script.ScriptService.compileInternal(ScriptService.java:313)
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:257)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
Caused by: ScriptException[Failed to parse expression: _score * 1*doc[rank]]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:127)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:104)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService.compile(ExpressionScriptEngineService.java:104)
	at org.elasticsearch.script.ScriptService.compileInternal(ScriptService.java:311)
	... 23 more
Caused by: java.text.ParseException: unexpected character '[' on line (1) position (14)
	at org.apache.lucene.expressions.js.JavascriptErrorHandlingLexer.recover(JavascriptErrorHandlingLexer.java:48)
	at org.antlr.v4.runtime.Lexer.nextToken(Lexer.java:169)
	at org.antlr.v4.runtime.BufferedTokenStream.fetch(BufferedTokenStream.java:185)
	at org.antlr.v4.runtime.BufferedTokenStream.sync(BufferedTokenStream.java:168)
	at org.antlr.v4.runtime.BufferedTokenStream.consume(BufferedTokenStream.java:152)
	at org.antlr.v4.runtime.Parser.consume(Parser.java:593)
	at org.antlr.v4.runtime.Parser.match(Parser.java:226)
	at org.apache.lucene.expressions.js.JavascriptParser.expression(JavascriptParser.java:449)
	at org.apache.lucene.expressions.js.JavascriptParser.expression(JavascriptParser.java:516)
	at org.apache.lucene.expressions.js.JavascriptParser.compile(JavascriptParser.java:113)
	at org.apache.lucene.expressions.js.JavascriptCompiler.getAntlrParseTree(JavascriptCompiler.java:219)
	at org.apache.lucene.expressions.js.JavascriptCompiler.compileExpression(JavascriptCompiler.java:192)
	at org.apache.lucene.expressions.js.JavascriptCompiler.compile(JavascriptCompiler.java:148)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:125)
	... 27 more
Caused by: LexerNoViableAltException('[')
	at org.antlr.v4.runtime.atn.LexerATNSimulator.failOrAccept(LexerATNSimulator.java:336)
	at org.antlr.v4.runtime.atn.LexerATNSimulator.execATN(LexerATNSimulator.java:257)
	at org.antlr.v4.runtime.atn.LexerATNSimulator.match(LexerATNSimulator.java:141)
	at org.antlr.v4.runtime.Lexer.nextToken(Lexer.java:165)
	... 39 more
[2016-08-31 10:47:19,423][DEBUG][action.search            ] [Aftershock] [index][3], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=nhuzkxrnSfSo9t-acSt0dg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@3b64c5ef] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*doc[rank].value"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank].value] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank].value]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*doc[rank].value"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank].value] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank].value]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank].value] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank].value]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[Failed to compile inline script [_score * 1*doc[rank].value] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank].value]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.script.ScriptService.compileInternal(ScriptService.java:313)
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:257)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
Caused by: ScriptException[Failed to parse expression: _score * 1*doc[rank].value]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:127)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:104)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService.compile(ExpressionScriptEngineService.java:104)
	at org.elasticsearch.script.ScriptService.compileInternal(ScriptService.java:311)
	... 23 more
Caused by: java.text.ParseException: unexpected character '[' on line (1) position (14)
	at org.apache.lucene.expressions.js.JavascriptErrorHandlingLexer.recover(JavascriptErrorHandlingLexer.java:48)
	at org.antlr.v4.runtime.Lexer.nextToken(Lexer.java:169)
	at org.antlr.v4.runtime.BufferedTokenStream.fetch(BufferedTokenStream.java:185)
	at org.antlr.v4.runtime.BufferedTokenStream.sync(BufferedTokenStream.java:168)
	at org.antlr.v4.runtime.BufferedTokenStream.consume(BufferedTokenStream.java:152)
	at org.antlr.v4.runtime.Parser.consume(Parser.java:593)
	at org.antlr.v4.runtime.Parser.match(Parser.java:226)
	at org.apache.lucene.expressions.js.JavascriptParser.expression(JavascriptParser.java:449)
	at org.apache.lucene.expressions.js.JavascriptParser.expression(JavascriptParser.java:516)
	at org.apache.lucene.expressions.js.JavascriptParser.compile(JavascriptParser.java:113)
	at org.apache.lucene.expressions.js.JavascriptCompiler.getAntlrParseTree(JavascriptCompiler.java:219)
	at org.apache.lucene.expressions.js.JavascriptCompiler.compileExpression(JavascriptCompiler.java:192)
	at org.apache.lucene.expressions.js.JavascriptCompiler.compile(JavascriptCompiler.java:148)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:125)
	... 27 more
Caused by: LexerNoViableAltException('[')
	at org.antlr.v4.runtime.atn.LexerATNSimulator.failOrAccept(LexerATNSimulator.java:336)
	at org.antlr.v4.runtime.atn.LexerATNSimulator.execATN(LexerATNSimulator.java:257)
	at org.antlr.v4.runtime.atn.LexerATNSimulator.match(LexerATNSimulator.java:141)
	at org.antlr.v4.runtime.Lexer.nextToken(Lexer.java:165)
	... 39 more
[2016-08-31 10:47:19,428][DEBUG][action.search            ] [Aftershock] [index][1], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=w3lzbH5lQ66oXr8IMuqddQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@3b64c5ef]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*doc[rank].value"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank].value] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank].value]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*doc[rank].value"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank].value] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank].value]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank].value] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank].value]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[Failed to compile inline script [_score * 1*doc[rank].value] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank].value]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.script.ScriptService.compileInternal(ScriptService.java:313)
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:257)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
Caused by: ScriptException[Failed to parse expression: _score * 1*doc[rank].value]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:127)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:104)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService.compile(ExpressionScriptEngineService.java:104)
	at org.elasticsearch.script.ScriptService.compileInternal(ScriptService.java:311)
	... 23 more
Caused by: java.text.ParseException: unexpected character '[' on line (1) position (14)
	at org.apache.lucene.expressions.js.JavascriptErrorHandlingLexer.recover(JavascriptErrorHandlingLexer.java:48)
	at org.antlr.v4.runtime.Lexer.nextToken(Lexer.java:169)
	at org.antlr.v4.runtime.BufferedTokenStream.fetch(BufferedTokenStream.java:185)
	at org.antlr.v4.runtime.BufferedTokenStream.sync(BufferedTokenStream.java:168)
	at org.antlr.v4.runtime.BufferedTokenStream.consume(BufferedTokenStream.java:152)
	at org.antlr.v4.runtime.Parser.consume(Parser.java:593)
	at org.antlr.v4.runtime.Parser.match(Parser.java:226)
	at org.apache.lucene.expressions.js.JavascriptParser.expression(JavascriptParser.java:449)
	at org.apache.lucene.expressions.js.JavascriptParser.expression(JavascriptParser.java:516)
	at org.apache.lucene.expressions.js.JavascriptParser.compile(JavascriptParser.java:113)
	at org.apache.lucene.expressions.js.JavascriptCompiler.getAntlrParseTree(JavascriptCompiler.java:219)
	at org.apache.lucene.expressions.js.JavascriptCompiler.compileExpression(JavascriptCompiler.java:192)
	at org.apache.lucene.expressions.js.JavascriptCompiler.compile(JavascriptCompiler.java:148)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:125)
	... 27 more
Caused by: LexerNoViableAltException('[')
	at org.antlr.v4.runtime.atn.LexerATNSimulator.failOrAccept(LexerATNSimulator.java:336)
	at org.antlr.v4.runtime.atn.LexerATNSimulator.execATN(LexerATNSimulator.java:257)
	at org.antlr.v4.runtime.atn.LexerATNSimulator.match(LexerATNSimulator.java:141)
	at org.antlr.v4.runtime.Lexer.nextToken(Lexer.java:165)
	... 39 more
[2016-08-31 10:47:19,425][DEBUG][action.search            ] [Aftershock] [index][2], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=kHlazsLdRUyXpQxG3FFdVA]: Failed to execute [org.elasticsearch.action.search.SearchRequest@3b64c5ef] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*doc[rank].value"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank].value] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank].value]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*doc[rank].value"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank].value] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank].value]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank].value] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank].value]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[Failed to compile inline script [_score * 1*doc[rank].value] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank].value]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.script.ScriptService.compileInternal(ScriptService.java:313)
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:257)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
Caused by: ScriptException[Failed to parse expression: _score * 1*doc[rank].value]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:127)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:104)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService.compile(ExpressionScriptEngineService.java:104)
	at org.elasticsearch.script.ScriptService.compileInternal(ScriptService.java:311)
	... 23 more
Caused by: java.text.ParseException: unexpected character '[' on line (1) position (14)
	at org.apache.lucene.expressions.js.JavascriptErrorHandlingLexer.recover(JavascriptErrorHandlingLexer.java:48)
	at org.antlr.v4.runtime.Lexer.nextToken(Lexer.java:169)
	at org.antlr.v4.runtime.BufferedTokenStream.fetch(BufferedTokenStream.java:185)
	at org.antlr.v4.runtime.BufferedTokenStream.sync(BufferedTokenStream.java:168)
	at org.antlr.v4.runtime.BufferedTokenStream.consume(BufferedTokenStream.java:152)
	at org.antlr.v4.runtime.Parser.consume(Parser.java:593)
	at org.antlr.v4.runtime.Parser.match(Parser.java:226)
	at org.apache.lucene.expressions.js.JavascriptParser.expression(JavascriptParser.java:449)
	at org.apache.lucene.expressions.js.JavascriptParser.expression(JavascriptParser.java:516)
	at org.apache.lucene.expressions.js.JavascriptParser.compile(JavascriptParser.java:113)
	at org.apache.lucene.expressions.js.JavascriptCompiler.getAntlrParseTree(JavascriptCompiler.java:219)
	at org.apache.lucene.expressions.js.JavascriptCompiler.compileExpression(JavascriptCompiler.java:192)
	at org.apache.lucene.expressions.js.JavascriptCompiler.compile(JavascriptCompiler.java:148)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:125)
	... 27 more
Caused by: LexerNoViableAltException('[')
	at org.antlr.v4.runtime.atn.LexerATNSimulator.failOrAccept(LexerATNSimulator.java:336)
	at org.antlr.v4.runtime.atn.LexerATNSimulator.execATN(LexerATNSimulator.java:257)
	at org.antlr.v4.runtime.atn.LexerATNSimulator.match(LexerATNSimulator.java:141)
	at org.antlr.v4.runtime.Lexer.nextToken(Lexer.java:165)
	... 39 more
[2016-08-31 10:47:19,427][DEBUG][action.search            ] [Aftershock] [index][4], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=qOru8NPKSI2unLe_wAn0fg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@3b64c5ef] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*doc[rank].value"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank].value] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank].value]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*doc[rank].value"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank].value] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank].value]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank].value] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank].value]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[Failed to compile inline script [_score * 1*doc[rank].value] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank].value]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.script.ScriptService.compileInternal(ScriptService.java:313)
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:257)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
Caused by: ScriptException[Failed to parse expression: _score * 1*doc[rank].value]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:127)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:104)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService.compile(ExpressionScriptEngineService.java:104)
	at org.elasticsearch.script.ScriptService.compileInternal(ScriptService.java:311)
	... 23 more
Caused by: java.text.ParseException: unexpected character '[' on line (1) position (14)
	at org.apache.lucene.expressions.js.JavascriptErrorHandlingLexer.recover(JavascriptErrorHandlingLexer.java:48)
	at org.antlr.v4.runtime.Lexer.nextToken(Lexer.java:169)
	at org.antlr.v4.runtime.BufferedTokenStream.fetch(BufferedTokenStream.java:185)
	at org.antlr.v4.runtime.BufferedTokenStream.sync(BufferedTokenStream.java:168)
	at org.antlr.v4.runtime.BufferedTokenStream.consume(BufferedTokenStream.java:152)
	at org.antlr.v4.runtime.Parser.consume(Parser.java:593)
	at org.antlr.v4.runtime.Parser.match(Parser.java:226)
	at org.apache.lucene.expressions.js.JavascriptParser.expression(JavascriptParser.java:449)
	at org.apache.lucene.expressions.js.JavascriptParser.expression(JavascriptParser.java:516)
	at org.apache.lucene.expressions.js.JavascriptParser.compile(JavascriptParser.java:113)
	at org.apache.lucene.expressions.js.JavascriptCompiler.getAntlrParseTree(JavascriptCompiler.java:219)
	at org.apache.lucene.expressions.js.JavascriptCompiler.compileExpression(JavascriptCompiler.java:192)
	at org.apache.lucene.expressions.js.JavascriptCompiler.compile(JavascriptCompiler.java:148)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:125)
	... 27 more
Caused by: LexerNoViableAltException('[')
	at org.antlr.v4.runtime.atn.LexerATNSimulator.failOrAccept(LexerATNSimulator.java:336)
	at org.antlr.v4.runtime.atn.LexerATNSimulator.execATN(LexerATNSimulator.java:257)
	at org.antlr.v4.runtime.atn.LexerATNSimulator.match(LexerATNSimulator.java:141)
	at org.antlr.v4.runtime.Lexer.nextToken(Lexer.java:165)
	... 39 more
[2016-08-31 10:47:19,424][DEBUG][action.search            ] [Aftershock] [index][0], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=8XPAcFyOTkmStYA9W37jXg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@3b64c5ef] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*doc[rank].value"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank].value] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank].value]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*doc[rank].value"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank].value] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank].value]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank].value] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank].value]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[Failed to compile inline script [_score * 1*doc[rank].value] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank].value]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.script.ScriptService.compileInternal(ScriptService.java:313)
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:257)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
Caused by: ScriptException[Failed to parse expression: _score * 1*doc[rank].value]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:127)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:104)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService.compile(ExpressionScriptEngineService.java:104)
	at org.elasticsearch.script.ScriptService.compileInternal(ScriptService.java:311)
	... 23 more
Caused by: java.text.ParseException: unexpected character '[' on line (1) position (14)
	at org.apache.lucene.expressions.js.JavascriptErrorHandlingLexer.recover(JavascriptErrorHandlingLexer.java:48)
	at org.antlr.v4.runtime.Lexer.nextToken(Lexer.java:169)
	at org.antlr.v4.runtime.BufferedTokenStream.fetch(BufferedTokenStream.java:185)
	at org.antlr.v4.runtime.BufferedTokenStream.sync(BufferedTokenStream.java:168)
	at org.antlr.v4.runtime.BufferedTokenStream.consume(BufferedTokenStream.java:152)
	at org.antlr.v4.runtime.Parser.consume(Parser.java:593)
	at org.antlr.v4.runtime.Parser.match(Parser.java:226)
	at org.apache.lucene.expressions.js.JavascriptParser.expression(JavascriptParser.java:449)
	at org.apache.lucene.expressions.js.JavascriptParser.expression(JavascriptParser.java:516)
	at org.apache.lucene.expressions.js.JavascriptParser.compile(JavascriptParser.java:113)
	at org.apache.lucene.expressions.js.JavascriptCompiler.getAntlrParseTree(JavascriptCompiler.java:219)
	at org.apache.lucene.expressions.js.JavascriptCompiler.compileExpression(JavascriptCompiler.java:192)
	at org.apache.lucene.expressions.js.JavascriptCompiler.compile(JavascriptCompiler.java:148)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:125)
	... 27 more
Caused by: LexerNoViableAltException('[')
	at org.antlr.v4.runtime.atn.LexerATNSimulator.failOrAccept(LexerATNSimulator.java:336)
	at org.antlr.v4.runtime.atn.LexerATNSimulator.execATN(LexerATNSimulator.java:257)
	at org.antlr.v4.runtime.atn.LexerATNSimulator.match(LexerATNSimulator.java:141)
	at org.antlr.v4.runtime.Lexer.nextToken(Lexer.java:165)
	... 39 more
[2016-08-31 10:47:19,436][DEBUG][action.search            ] [Aftershock] All shards failed for phase: [query]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*doc[rank].value"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank].value] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank].value]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
Caused by: SearchParseException[failed to parse search source [
{
  "query": {

    "function_score": {
      "functions": [
        {
          "script_score": {
          "lang":"expression",
            "script": "_score * 1*doc[rank].value"
          }
        }
      ],
      "query": {
        "match": {
            "content": "RIPA裂解液"
        }}
    }
  }
}]]; nested: QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank].value] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank].value]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:855)
	at org.elasticsearch.search.SearchService.createContext(SearchService.java:654)
	at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:620)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:371)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: [index] QueryParsingException[script_score the script could not be loaded]; nested: ScriptException[Failed to compile inline script [_score * 1*doc[rank].value] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank].value]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:107)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parseFiltersAndFunctions(FunctionScoreQueryParser.java:225)
	at org.elasticsearch.index.query.functionscore.FunctionScoreQueryParser.parse(FunctionScoreQueryParser.java:129)
	at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:250)
	at org.elasticsearch.index.query.IndexQueryParserService.innerParse(IndexQueryParserService.java:320)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)
	at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:218)
	at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)
	at org.elasticsearch.search.SearchService.parseSource(SearchService.java:838)
	... 12 more
Caused by: ScriptException[Failed to compile inline script [_score * 1*doc[rank].value] using lang [expression]]; nested: ScriptException[Failed to parse expression: _score * 1*doc[rank].value]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.script.ScriptService.compileInternal(ScriptService.java:313)
	at org.elasticsearch.script.ScriptService.compile(ScriptService.java:257)
	at org.elasticsearch.script.ScriptService.search(ScriptService.java:456)
	at org.elasticsearch.index.query.functionscore.script.ScriptScoreFunctionParser.parse(ScriptScoreFunctionParser.java:104)
	... 20 more
Caused by: ScriptException[Failed to parse expression: _score * 1*doc[rank].value]; nested: ParseException[unexpected character '[' on line (1) position (14)]; nested: LexerNoViableAltException;
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:127)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:104)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService.compile(ExpressionScriptEngineService.java:104)
	at org.elasticsearch.script.ScriptService.compileInternal(ScriptService.java:311)
	... 23 more
Caused by: java.text.ParseException: unexpected character '[' on line (1) position (14)
	at org.apache.lucene.expressions.js.JavascriptErrorHandlingLexer.recover(JavascriptErrorHandlingLexer.java:48)
	at org.antlr.v4.runtime.Lexer.nextToken(Lexer.java:169)
	at org.antlr.v4.runtime.BufferedTokenStream.fetch(BufferedTokenStream.java:185)
	at org.antlr.v4.runtime.BufferedTokenStream.sync(BufferedTokenStream.java:168)
	at org.antlr.v4.runtime.BufferedTokenStream.consume(BufferedTokenStream.java:152)
	at org.antlr.v4.runtime.Parser.consume(Parser.java:593)
	at org.antlr.v4.runtime.Parser.match(Parser.java:226)
	at org.apache.lucene.expressions.js.JavascriptParser.expression(JavascriptParser.java:449)
	at org.apache.lucene.expressions.js.JavascriptParser.expression(JavascriptParser.java:516)
	at org.apache.lucene.expressions.js.JavascriptParser.compile(JavascriptParser.java:113)
	at org.apache.lucene.expressions.js.JavascriptCompiler.getAntlrParseTree(JavascriptCompiler.java:219)
	at org.apache.lucene.expressions.js.JavascriptCompiler.compileExpression(JavascriptCompiler.java:192)
	at org.apache.lucene.expressions.js.JavascriptCompiler.compile(JavascriptCompiler.java:148)
	at org.elasticsearch.script.expression.ExpressionScriptEngineService$1.run(ExpressionScriptEngineService.java:125)
	... 27 more
Caused by: LexerNoViableAltException('[')
	at org.antlr.v4.runtime.atn.LexerATNSimulator.failOrAccept(LexerATNSimulator.java:336)
	at org.antlr.v4.runtime.atn.LexerATNSimulator.execATN(LexerATNSimulator.java:257)
	at org.antlr.v4.runtime.atn.LexerATNSimulator.match(LexerATNSimulator.java:141)
	at org.antlr.v4.runtime.Lexer.nextToken(Lexer.java:165)
	... 39 more
[2016-08-31 10:53:08,694][DEBUG][action.search            ] [Aftershock] [index][1], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=w3lzbH5lQ66oXr8IMuqddQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@4974ecc2] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 9f2cd7431c666fd49b782cef0134d0178ec1a5de];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 9f2cd7431c666fd49b782cef0134d0178ec1a5de];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 9f2cd7431c666fd49b782cef0134d0178ec1a5de];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: 9f2cd7431c666fd49b782cef0134d0178ec1a5de
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at org.codehaus.groovy.vmplugin.v7.IndyInterface.selectMethod(IndyInterface.java:228)
	at 9f2cd7431c666fd49b782cef0134d0178ec1a5de.run(9f2cd7431c666fd49b782cef0134d0178ec1a5de:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:53:08,731][DEBUG][action.search            ] [Aftershock] [index][0], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=8XPAcFyOTkmStYA9W37jXg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@4974ecc2] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 9f2cd7431c666fd49b782cef0134d0178ec1a5de];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 9f2cd7431c666fd49b782cef0134d0178ec1a5de];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 9f2cd7431c666fd49b782cef0134d0178ec1a5de];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: 9f2cd7431c666fd49b782cef0134d0178ec1a5de
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at org.codehaus.groovy.vmplugin.v7.IndyInterface.selectMethod(IndyInterface.java:228)
	at 9f2cd7431c666fd49b782cef0134d0178ec1a5de.run(9f2cd7431c666fd49b782cef0134d0178ec1a5de:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:53:08,735][DEBUG][action.search            ] [Aftershock] [index][2], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=kHlazsLdRUyXpQxG3FFdVA]: Failed to execute [org.elasticsearch.action.search.SearchRequest@4974ecc2] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 9f2cd7431c666fd49b782cef0134d0178ec1a5de];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 9f2cd7431c666fd49b782cef0134d0178ec1a5de];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 9f2cd7431c666fd49b782cef0134d0178ec1a5de];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: 9f2cd7431c666fd49b782cef0134d0178ec1a5de
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at org.codehaus.groovy.vmplugin.v7.IndyInterface.selectMethod(IndyInterface.java:228)
	at 9f2cd7431c666fd49b782cef0134d0178ec1a5de.run(9f2cd7431c666fd49b782cef0134d0178ec1a5de:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:53:08,739][DEBUG][action.search            ] [Aftershock] [index][4], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=qOru8NPKSI2unLe_wAn0fg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@4974ecc2] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 9f2cd7431c666fd49b782cef0134d0178ec1a5de];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 9f2cd7431c666fd49b782cef0134d0178ec1a5de];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 9f2cd7431c666fd49b782cef0134d0178ec1a5de];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: 9f2cd7431c666fd49b782cef0134d0178ec1a5de
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at org.codehaus.groovy.vmplugin.v7.IndyInterface.selectMethod(IndyInterface.java:228)
	at 9f2cd7431c666fd49b782cef0134d0178ec1a5de.run(9f2cd7431c666fd49b782cef0134d0178ec1a5de:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:53:08,742][DEBUG][action.search            ] [Aftershock] [index][3], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=nhuzkxrnSfSo9t-acSt0dg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@4974ecc2]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 9f2cd7431c666fd49b782cef0134d0178ec1a5de];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 9f2cd7431c666fd49b782cef0134d0178ec1a5de];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 9f2cd7431c666fd49b782cef0134d0178ec1a5de];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: 9f2cd7431c666fd49b782cef0134d0178ec1a5de
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at org.codehaus.groovy.vmplugin.v7.IndyInterface.selectMethod(IndyInterface.java:228)
	at 9f2cd7431c666fd49b782cef0134d0178ec1a5de.run(9f2cd7431c666fd49b782cef0134d0178ec1a5de:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:53:08,743][DEBUG][action.search            ] [Aftershock] All shards failed for phase: [query]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 9f2cd7431c666fd49b782cef0134d0178ec1a5de];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 9f2cd7431c666fd49b782cef0134d0178ec1a5de];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 9f2cd7431c666fd49b782cef0134d0178ec1a5de];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: 9f2cd7431c666fd49b782cef0134d0178ec1a5de
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at org.codehaus.groovy.vmplugin.v7.IndyInterface.selectMethod(IndyInterface.java:228)
	at 9f2cd7431c666fd49b782cef0134d0178ec1a5de.run(9f2cd7431c666fd49b782cef0134d0178ec1a5de:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 10:53:08,744][WARN ][rest.suppressed          ] path: /index/fulltext/_search, params: {index=index, type=fulltext, pretty=}
Failed to execute phase [query], all shards failed; shardFailures {[l7uDRLNjTS6hkH4mg3bCbw][index][0]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 9f2cd7431c666fd49b782cef0134d0178ec1a5de]; }{[l7uDRLNjTS6hkH4mg3bCbw][index][1]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 9f2cd7431c666fd49b782cef0134d0178ec1a5de]; }{[l7uDRLNjTS6hkH4mg3bCbw][index][2]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 9f2cd7431c666fd49b782cef0134d0178ec1a5de]; }{[l7uDRLNjTS6hkH4mg3bCbw][index][3]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 9f2cd7431c666fd49b782cef0134d0178ec1a5de]; }{[l7uDRLNjTS6hkH4mg3bCbw][index][4]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 9f2cd7431c666fd49b782cef0134d0178ec1a5de]; }
	at org.elasticsearch.action.search.AbstractSearchAsyncAction.onFirstPhaseResult(AbstractSearchAsyncAction.java:206)
	at org.elasticsearch.action.search.AbstractSearchAsyncAction$1.onFailure(AbstractSearchAsyncAction.java:152)
	at org.elasticsearch.action.ActionListenerResponseHandler.handleException(ActionListenerResponseHandler.java:46)
	at org.elasticsearch.transport.TransportService$DirectResponseChannel.processException(TransportService.java:855)
	at org.elasticsearch.transport.TransportService$DirectResponseChannel.sendResponse(TransportService.java:833)
	at org.elasticsearch.transport.TransportService$4.onFailure(TransportService.java:387)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:39)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * rank] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: 9f2cd7431c666fd49b782cef0134d0178ec1a5de];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	... 3 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: 9f2cd7431c666fd49b782cef0134d0178ec1a5de
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at org.codehaus.groovy.vmplugin.v7.IndyInterface.selectMethod(IndyInterface.java:228)
	at 9f2cd7431c666fd49b782cef0134d0178ec1a5de.run(9f2cd7431c666fd49b782cef0134d0178ec1a5de:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 11:03:59,190][DEBUG][action.search            ] [Aftershock] [index][0], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=8XPAcFyOTkmStYA9W37jXg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@55935345] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at fb015793b16d35c0bbe04a1fb992d246078c5868.run(fb015793b16d35c0bbe04a1fb992d246078c5868:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 11:03:59,198][DEBUG][action.search            ] [Aftershock] [index][4], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=qOru8NPKSI2unLe_wAn0fg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@55935345] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at fb015793b16d35c0bbe04a1fb992d246078c5868.run(fb015793b16d35c0bbe04a1fb992d246078c5868:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 11:03:59,198][DEBUG][action.search            ] [Aftershock] [index][2], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=kHlazsLdRUyXpQxG3FFdVA]: Failed to execute [org.elasticsearch.action.search.SearchRequest@55935345] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at fb015793b16d35c0bbe04a1fb992d246078c5868.run(fb015793b16d35c0bbe04a1fb992d246078c5868:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 11:03:59,194][DEBUG][action.search            ] [Aftershock] [index][3], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=nhuzkxrnSfSo9t-acSt0dg]: Failed to execute [org.elasticsearch.action.search.SearchRequest@55935345] lastShard [true]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at fb015793b16d35c0bbe04a1fb992d246078c5868.run(fb015793b16d35c0bbe04a1fb992d246078c5868:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 11:03:59,201][DEBUG][action.search            ] [Aftershock] [index][1], node[l7uDRLNjTS6hkH4mg3bCbw], [P], v[6], s[STARTED], a[id=w3lzbH5lQ66oXr8IMuqddQ]: Failed to execute [org.elasticsearch.action.search.SearchRequest@55935345]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at fb015793b16d35c0bbe04a1fb992d246078c5868.run(fb015793b16d35c0bbe04a1fb992d246078c5868:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 11:03:59,208][DEBUG][action.search            ] [Aftershock] All shards failed for phase: [query]
RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
Caused by: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:409)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	... 12 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at fb015793b16d35c0bbe04a1fb992d246078c5868.run(fb015793b16d35c0bbe04a1fb992d246078c5868:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 11:03:59,212][WARN ][rest.suppressed          ] path: /index/fulltext/_search, params: {index=index, type=fulltext, pretty=}
Failed to execute phase [query], all shards failed; shardFailures {[l7uDRLNjTS6hkH4mg3bCbw][index][0]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868]; }{[l7uDRLNjTS6hkH4mg3bCbw][index][1]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868]; }{[l7uDRLNjTS6hkH4mg3bCbw][index][2]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868]; }{[l7uDRLNjTS6hkH4mg3bCbw][index][3]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868]; }{[l7uDRLNjTS6hkH4mg3bCbw][index][4]: RemoteTransportException[[Aftershock][127.0.0.1:9300][indices:data/read/search[phase/query]]]; nested: QueryPhaseExecutionException[Query Failed [Failed to execute main query]]; nested: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868]; }
	at org.elasticsearch.action.search.AbstractSearchAsyncAction.onFirstPhaseResult(AbstractSearchAsyncAction.java:206)
	at org.elasticsearch.action.search.AbstractSearchAsyncAction$1.onFailure(AbstractSearchAsyncAction.java:152)
	at org.elasticsearch.action.ActionListenerResponseHandler.handleException(ActionListenerResponseHandler.java:46)
	at org.elasticsearch.transport.TransportService$DirectResponseChannel.processException(TransportService.java:855)
	at org.elasticsearch.transport.TransportService$DirectResponseChannel.sendResponse(TransportService.java:833)
	at org.elasticsearch.transport.TransportService$4.onFailure(TransportService.java:387)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:39)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:745)
Caused by: ScriptException[failed to run inline script [_score * doc[rank].value] using lang [groovy]]; nested: MissingPropertyException[No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868];
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:320)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.runAsDouble(GroovyScriptEngineService.java:336)
	at org.elasticsearch.common.lucene.search.function.ScriptScoreFunction$1.score(ScriptScoreFunction.java:87)
	at org.elasticsearch.common.lucene.search.function.FunctionScoreQuery$FunctionFactorScorer.score(FunctionScoreQuery.java:203)
	at org.apache.lucene.search.ConjunctionScorer.score(ConjunctionScorer.java:64)
	at org.apache.lucene.search.TopScoreDocCollector$SimpleTopScoreDocCollector$1.collect(TopScoreDocCollector.java:64)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:221)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:172)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:821)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:535)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:384)
	at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:113)
	at org.elasticsearch.search.SearchService.loadOrExecuteQueryPhase(SearchService.java:366)
	at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:378)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:368)
	at org.elasticsearch.search.action.SearchServiceTransportAction$SearchQueryTransportHandler.messageReceived(SearchServiceTransportAction.java:365)
	at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:33)
	at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:75)
	at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:376)
	at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)
	... 3 more
Caused by: groovy.lang.MissingPropertyException: No such property: rank for class: fb015793b16d35c0bbe04a1fb992d246078c5868
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:53)
	at org.codehaus.groovy.vmplugin.v7.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:177)
	at fb015793b16d35c0bbe04a1fb992d246078c5868.run(fb015793b16d35c0bbe04a1fb992d246078c5868:1)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript$1.run(GroovyScriptEngineService.java:313)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.elasticsearch.script.groovy.GroovyScriptEngineService$GroovyScript.run(GroovyScriptEngineService.java:310)
	... 23 more
[2016-08-31 13:55:13,751][INFO ][cluster.metadata         ] [Aftershock] [index] creating index, cause [api], templates [], shards [5]/[1], mappings []
[2016-08-31 13:55:13,888][INFO ][cluster.routing.allocation] [Aftershock] Cluster health status changed from [RED] to [YELLOW] (reason: [shards started [[index][4]] ...]).
[2016-08-31 13:56:22,545][INFO ][node                     ] [Aftershock] stopping ...
[2016-08-31 13:56:22,576][INFO ][node                     ] [Aftershock] stopped
[2016-08-31 13:56:22,576][INFO ][node                     ] [Aftershock] closing ...
[2016-08-31 13:56:22,583][INFO ][node                     ] [Aftershock] closed
